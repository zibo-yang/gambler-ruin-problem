%
\begin{isabellebody}%
\setisabellecontext{Gambler{\isacharunderscore}{\kern0pt}Ruin{\isacharunderscore}{\kern0pt}Problem}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ Gambler{\isacharunderscore}{\kern0pt}Ruin{\isacharunderscore}{\kern0pt}Problem\isanewline
\ \ \isakeyword{imports}\ DiscretePricing{\isachardot}{\kern0pt}Infinite{\isacharunderscore}{\kern0pt}Coin{\isacharunderscore}{\kern0pt}Toss{\isacharunderscore}{\kern0pt}Space\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Gambler's ruin problem%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
In Gamblerruin.thy, we will construct the formalization of a specific random walk model coordinated with gambler's ruin problem.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Theory Infinite{\_}Coin{\_}Toss{\_}Space%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
In order to construct the formal method in gambler's ruin problem, we start with the existing 
formalization in the Theory Infinite{\_}Coin{\_}Toss{\_}Space which constructed the probability space 
on infinite sequences of independent coin.
tosses.%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
The only concept need to be elaborated is bernoulli. 'a stream is a type of infinite sequence with all 
element of type 'a. The bernoulli stream is a stream measure which has the space composed of all the 
elements of type bool stream, measurable sets filled with all the subset of its space. under this 
specific measure, all the possibility of occurrence of elements in a specific set A can be described 
as the measure value of A if and only if A is in the measurable sets of this bernoulli stream. In fact, 
it was set up by producting countable measure of boolean space with measuring \{True\} to p and \{False\} 
to $1-p$.%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Gambler model%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{fun}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ infinite{\isacharunderscore}{\kern0pt}coin{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}int\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}nat\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ int{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
\ \ base{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ u\ d\ v\ {\isadigit{0}}\ w\ {\isacharequal}{\kern0pt}\ v{\isachardoublequoteclose}{\isacharbar}{\kern0pt}\isanewline
\ \ step{\isadigit{1}}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ u\ d\ v\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}True\ {\isasymRightarrow}\ u\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ d{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}snth\ w\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ u\ d\ v\ n\ w{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}\isakeyword{in}\ infinite{\isacharunderscore}{\kern0pt}coin{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}space{\isacharparenright}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}int\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}enat\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ int{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk\ u\ d\ v\ n\ w\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ n\ of\ enat\ n\ {\isasymRightarrow}\ {\isacharparenleft}{\kern0pt}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ u\ d\ v\ n\ w{\isacharparenright}{\kern0pt}{\isacharbar}{\kern0pt}{\isasyminfinity}\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The function $gambler\_ran\_walk$ extends the fourth parameter by adding $\infty$ as new input.
The reason why we define it is that we found it very tough to describe the position where the specific
random walk stops, for the first time, by reaching the threshold if natural number is the only allowed 
input as what $gambler\_ran\_walk\_pre$ defines. Since some infinite random walks will never stop, 
we must allocate $\infty$ as the output coordinated with that non-stop case and extend the type of 
steps from \isa{nat} to \isa{enat}. But if someone wants to base their further analysis on our endeavor here, 
please be cautious of or even avoid discussing the case that initial number and target number is 
negative since we map $\infty$ to -1. The lemma $exist$ demonstrates that non-stop random walk will
never succeed in reaching the target, which is the best explanation why we allocates $-1$ as the output
of $\infty$ in $gambler\_ran\_walk$.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{locale}\isamarkupfalse%
\ gambler{\isacharunderscore}{\kern0pt}model\ {\isacharequal}{\kern0pt}\ infinite{\isacharunderscore}{\kern0pt}coin{\isacharunderscore}{\kern0pt}toss{\isacharunderscore}{\kern0pt}space\ {\isacharplus}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}int\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ enat\ {\isasymRightarrow}\ int{\isachardoublequoteclose}\isanewline
\isakeyword{assumes}\ geometric{\isacharunderscore}{\kern0pt}process{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ step\ {\isacharequal}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ step\ x{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Basic functions%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Here we define the all basic functions which will play an invisible role in the further probability analysis.
you can just focus on the lemmas and functions where we comment%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{definition}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}int\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ nat\ set{\isachardoublequoteclose}\isakeyword{where}\isanewline
{\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}step{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ step\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
$reach\_steps$ describes all the steps where the input random walk reaches the threshold {0, target}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ infm{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}nat\ set\ {\isasymRightarrow}\ enat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}infm\ A\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}if\ A\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ then\ {\isasyminfinity}\ else\ {\isasymSqinter}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
infm A = {} iff A = {}%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ only{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}infm{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{assumes}{\isachardoublequoteopen}A\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}infm\ A\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}infm\ A\ {\isacharequal}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ l{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}a{\isasymin}A{\isachardot}{\kern0pt}\ {\isasyminfinity}\ {\isasymle}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ infm{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ A{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ r{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}a{\isasymin}A{\isachardot}{\kern0pt}\ a\ {\isacharless}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}eq\ enat{\isacharunderscore}{\kern0pt}ord{\isacharunderscore}{\kern0pt}simps\ not{\isacharunderscore}{\kern0pt}infinity{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ l\ r\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}eq\ enat{\isacharunderscore}{\kern0pt}ord{\isacharunderscore}{\kern0pt}simps\ not{\isacharunderscore}{\kern0pt}infinity{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \ \ \ \ \ \ assms\ equals{\isadigit{0}}I\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ stop{\isacharunderscore}{\kern0pt}at{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}int\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ enat{\isachardoublequoteclose}\ \isakeyword{where}\isanewline
{\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}infm\ {\isacharparenleft}{\kern0pt}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
$stop\_at$ describes the first step in the $reach\_steps$ sets, which means exactly the stopping point in
gambler's ruin problem. Be careful, Here the type of output has been extended to \isa{enat}, which means
stopping point will be $\infty$(equivalent to non-existence)%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ success{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}int\ {\isasymRightarrow}\ bool\ stream\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isakeyword{where}\isanewline
{\isachardoublequoteopen}success\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}%
\begin{isamarkuptext}%
success describes the random walk reaching the target number rather than ruining at stopping point%
\end{isamarkuptext}\isamarkuptrue%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Important intermediate conclusions%
}
\isamarkuptrue%
%
\isamarkupsubsubsection{Successful random walks never stop at $\infty$%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Once we set target to be positive, the weird situation where random walk succeeds at $\infty$ will disappear%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ exist{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}int\ \isakeyword{and}\ x\ \isakeyword{and}\ target{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}int\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ init{\isachardoublequoteclose}\ {\isachardoublequoteopen}init\ {\isasymle}\ target{\isachardoublequoteclose}{\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{The way we count never change the amount got through specific random walk%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ pre{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}x\ n{\isachardot}{\kern0pt}\ snth\ x\ {\isacharparenleft}{\kern0pt}n{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ snth\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ n\ {\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
lemma additional1 states that the reaching number doesn't change if we want to calculate from the second step%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ additional{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}let\ init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}\ in\ \isanewline
geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}induction\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}let\ init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}\isanewline
\ \ \ \ in\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}enat\ {\isacharparenleft}{\kern0pt}Suc\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}let\ init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}\ in\ \isanewline
\ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ this\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}let\ init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}\isanewline
\ \ \ \ in\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}enat\ {\isacharparenleft}{\kern0pt}Suc\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ One{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ n\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ ams{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}let\ init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ in\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}enat\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ ppp{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymAnd}\ init{\isadigit{1}}\ x{\isadigit{1}}\ n{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isadigit{1}}\ x{\isadigit{1}}\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isadigit{1}}\ x{\isadigit{1}}\ n\ {\isacharplus}{\kern0pt}\ \isanewline
{\isacharparenleft}{\kern0pt}case\ snth\ x{\isadigit{1}}\ n\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{from}\isamarkupfalse%
\ ams\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}let\ init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ in\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}enat\ {\isacharparenleft}{\kern0pt}Suc\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ ppp{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ ppp{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\ {\isachardoublequoteopen}stl\ x{\isachardoublequoteclose}\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ pre{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ x\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{The way we count never change whether the random walk succeeds%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ set{\isacharunderscore}{\kern0pt}up{\isacharunderscore}{\kern0pt}Inf{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ A\ \isakeyword{and}\ a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymAnd}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ b\ {\isasymin}\ A\ {\isasymLongrightarrow}\ a\ {\isasymle}\ b{\isachardoublequoteclose}\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ Inf\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ cInf{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}minimum\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ Inf{\isacharunderscore}{\kern0pt}property{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ a\ \isakeyword{and}\ A\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ Inf\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ b\ {\isasymin}\ A\ {\isasymLongrightarrow}\ a\ {\isasymle}\ b{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
{\isachardoublequoteopen}bdd{\isacharunderscore}{\kern0pt}below\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bdd{\isacharunderscore}{\kern0pt}below{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ A{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ A\ {\isasymLongrightarrow}\ a\ {\isasymle}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ cInf{\isacharunderscore}{\kern0pt}lower{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ A{\isacharbrackright}{\kern0pt}\ assms\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
$conditional2\_pre$ states that stopping point doesn't change if we calculate from second step%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharunderscore}{\kern0pt}pre{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init{\isacharprime}{\kern0pt}\ \isakeyword{and}\ Ar\ \isakeyword{and}\ Al\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Ar\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}Al\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{shows}{\isachardoublequoteopen}\ stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\isanewline
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Ar{\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ar{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}Ar\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}n{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ n\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ {\isacharparenleft}{\kern0pt}{\isasymexists}m{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ m\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ additional{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ x{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ al{\isacharunderscore}{\kern0pt}empty{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}Al\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}stl\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ al{\isacharunderscore}{\kern0pt}empty\ \isacommand{have}\isamarkupfalse%
\ al{\isacharunderscore}{\kern0pt}inf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isacharequal}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps\ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ ar{\isacharunderscore}{\kern0pt}empty\ \isacommand{have}\isamarkupfalse%
\ ar{\isacharunderscore}{\kern0pt}inf{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{from}\isamarkupfalse%
\ al{\isacharunderscore}{\kern0pt}inf\ ar{\isacharunderscore}{\kern0pt}inf\ \isacommand{have}\isamarkupfalse%
{\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ plus{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ ar{\isacharunderscore}{\kern0pt}nonempty{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}Ar\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{where}\ a{\isacharunderscore}{\kern0pt}def{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps\ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ only{\isacharunderscore}{\kern0pt}inf{\isacharunderscore}{\kern0pt}infm{\isacharbrackleft}{\kern0pt}of\ Ar{\isacharbrackright}{\kern0pt}\ ar{\isacharunderscore}{\kern0pt}nonempty\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}infinity{\isacharunderscore}{\kern0pt}eq{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}infm\ Ar{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}auto\ simp\ add{\isacharcolon}{\kern0pt}\ not{\isacharunderscore}{\kern0pt}infinity{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ infm{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ ar{\isacharunderscore}{\kern0pt}nonempty\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ a{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ enat{\isachardot}{\kern0pt}inject{\isacharbrackleft}{\kern0pt}of\ a\ {\isachardoublequoteopen}{\isasymSqinter}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Inf{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ Ar{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{0}}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ zero{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}init\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{0}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ zero{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ a{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{where}\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isasymnoteq}\ {\isadigit{0}}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharparenright}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ add{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\ add{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}right\ assms\ less{\isacharunderscore}{\kern0pt}imp{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}add\ less{\isacharunderscore}{\kern0pt}one\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}eq\ not{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ a{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ additional{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ x\ a{\isacharprime}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ a{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ infm{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ Inf{\isacharunderscore}{\kern0pt}nat{\isacharunderscore}{\kern0pt}def{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ ar{\isacharunderscore}{\kern0pt}nonempty\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ enat{\isachardot}{\kern0pt}inject{\isacharbrackleft}{\kern0pt}of\ a\ {\isachardoublequoteopen}{\isasymSqinter}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq\ plus{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}Suc{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}xa{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a{\isacharprime}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
{\isachardoublequoteopen}{\isasymAnd}a\ b\ A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ set{\isachardot}{\kern0pt}\ b\ {\isasymin}\ A\ {\isasymLongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ Inf\ A\ {\isasymLongrightarrow}\ a\ {\isasymle}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{and}\ b{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{and}\ A\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ A{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ Inf\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}bdd{\isacharunderscore}{\kern0pt}below\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bdd{\isacharunderscore}{\kern0pt}below{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ A{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymle}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cInf{\isacharunderscore}{\kern0pt}lower{\isacharbrackleft}{\kern0pt}of\ b\ A{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ Inf\ A{\isacartoucheclose}\ {\isacartoucheopen}b\ {\isasymin}\ A{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}b{\isachardot}{\kern0pt}\ b\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymLongrightarrow}\ a{\isacharprime}{\kern0pt}\ {\isasymle}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}unfold\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ b\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}b\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}xa{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ b\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}b{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ additional{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ x\ b{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymle}\ {\isacharparenleft}{\kern0pt}b\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ a{\isacharunderscore}{\kern0pt}def\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ infm{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Ar\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ enat{\isachardot}{\kern0pt}inject{\isacharbrackleft}{\kern0pt}of\ a\ {\isachardoublequoteopen}{\isasymSqinter}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}{\isasymAnd}a\ b\ A{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ set{\isachardot}{\kern0pt}\ b\ {\isasymin}\ A\ {\isasymLongrightarrow}\ a\ {\isacharequal}{\kern0pt}\ Inf\ A\ {\isasymLongrightarrow}\ a\ {\isasymle}\ b{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isasymle}\ b{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a{\isacharprime}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymSqinter}\ {\isacharparenleft}{\kern0pt}reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ cInf{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}minimum{\isacharbrackleft}{\kern0pt}of\ a{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}xa{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}enat\ xa{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}a{\isacharprime}{\kern0pt}\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}stl\ x{\isachardoublequoteclose}\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}a{\isacharprime}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\ plus{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
conditional2 states that whether a random walk succeeds or not doesn't change if we calculate from second step%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ x\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}success\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymlongleftrightarrow}\ success\ init\ x\ target{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ ar\ \isakeyword{where}\ {\isachardoublequoteopen}ar\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ al\ \isakeyword{where}\ {\isachardoublequoteopen}al\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ lhs{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}success\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ lhs{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exist{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ target\ {\isachardoublequoteopen}stl\ x{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ success{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ {\isachardoublequoteopen}stl\ x{\isachardoublequoteclose}\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ geometric{\isacharunderscore}{\kern0pt}process{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{1}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{where}\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}infinity{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ lhs{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x\ ar\ target\ al{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}ar\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}al\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ additional{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ x\ a{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\ plus{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ ar\ \isakeyword{where}\ {\isachardoublequoteopen}ar\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ al\ \isakeyword{where}\ {\isachardoublequoteopen}al\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ rhs{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ rhs{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ exist{\isacharbrackleft}{\kern0pt}of\ init\ target\ x{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ success{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ geometric{\isacharunderscore}{\kern0pt}process{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{1}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a{\isacharprime}{\kern0pt}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{where}\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}infinity{\isacharunderscore}{\kern0pt}eq\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}enat\ a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacartoucheclose}\ add{\isachardot}{\kern0pt}commute\ add{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ conditional{\isadigit{2}}{\isacharunderscore}{\kern0pt}pre\ enat{\isacharunderscore}{\kern0pt}add{\isacharunderscore}{\kern0pt}left{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}less\ gr{\isacharunderscore}{\kern0pt}implies{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}zero\ zero{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\ zero{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}one{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ rhs{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\ \isakeyword{where}\ {\isachardoublequoteopen}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ old{\isachardot}{\kern0pt}nat{\isachardot}{\kern0pt}exhaust{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{with}\isamarkupfalse%
\ rhs{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x\ ar\ target\ al{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}ar\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}al\ {\isacharequal}{\kern0pt}\ reach{\isacharunderscore}{\kern0pt}steps\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ eSuc{\isacharunderscore}{\kern0pt}enat{\isacharbrackleft}{\kern0pt}of\ a{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ eSuc{\isacharunderscore}{\kern0pt}inject\ plus{\isacharunderscore}{\kern0pt}{\isadigit{1}}{\isacharunderscore}{\kern0pt}eSuc{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ additional{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ x\ a{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ Suc{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}plus{\isadigit{1}}\ {\isacartoucheopen}a\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}\ {\isacharequal}{\kern0pt}\ a{\isacharprime}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}enat\ a{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target{\isacartoucheclose}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ \ \ \ \isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ rhs{\isadigit{1}}\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stop{\isacharunderscore}{\kern0pt}at\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init{\isacharprime}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{The change of initial number%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
if first step is true, then we add 1 to initial number%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}plus{\isacharunderscore}{\kern0pt}one{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ x\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}{\isachardoublequoteopen}shd\ x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ int{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{1}}\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isacharplus}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{0}}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{0}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{1}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\ zero{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{0}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ int{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{0}}\ x\ {\isacharequal}{\kern0pt}\ init{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ int{\isadigit{3}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{1}}\ x\ {\isacharequal}{\kern0pt}\ init{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{1}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ int{\isadigit{1}}\ int{\isadigit{2}}\ int{\isadigit{3}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
if first step is False, then we reduce 1 to initial number%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}plus{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ x\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}{\isachardoublequoteopen}shd\ x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ int{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{1}}\ x\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{0}}\ x{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{0}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{1}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\ zero{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{0}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ one{\isacharunderscore}{\kern0pt}enat{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ int{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{0}}\ x\ {\isacharequal}{\kern0pt}\ init{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ int{\isadigit{3}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{1}}\ x\ {\isacharequal}{\kern0pt}\ init{\isacharprime}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isadigit{1}}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ int{\isadigit{1}}\ int{\isadigit{2}}\ int{\isadigit{3}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{The way we count never change the successful random walk set%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
the set where all random walks in it succeeds and their first step are True doesn't change if 
we calculate from second step%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ conditional{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}equation{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ \ target\isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ stream{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ {\isacharbraceleft}{\kern0pt}x{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ stream{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}{\isachardoublequoteopen}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ init{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}plus{\isacharunderscore}{\kern0pt}one{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}{\isachardoublequoteopen}shd\ x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ init{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}plus{\isacharunderscore}{\kern0pt}one{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
the set where all random walks in it succeeds and their first step are False doesn't change if 
we calculate from second step%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ conditional{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}equation{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ \ target\isanewline
\ \ \isakeyword{assumes}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ stream{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
\ {\isacharbraceleft}{\kern0pt}x{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ stream{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}{\isachardoublequoteopen}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ init{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}plus{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ \ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}{\isachardoublequoteopen}shd\ x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ init{\isacharprime}{\kern0pt}\ \isakeyword{where}\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fst{\isacharunderscore}{\kern0pt}true{\isacharunderscore}{\kern0pt}plus{\isacharunderscore}{\kern0pt}one{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ init{\isacharprime}{\kern0pt}\ init\ x\ target{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}init{\isacharprime}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsection{Probability equation%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Here we start to analyse the probability of successful random walk. To better understand this
part please have a look the elaboration in front of lemma $success\_measurable$%
\end{isamarkuptext}\isamarkuptrue%
%
\begin{isamarkuptext}%
$probability\_of\_win$ is the function describing possibility of successful random walks with 
initial number and target number as inputs%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ probability{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}win{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}int\ {\isasymRightarrow}\ int\ {\isasymRightarrow}\ ennreal{\isachardoublequoteclose}\isakeyword{where}\isanewline
{\isachardoublequoteopen}probability{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}win\ init\ target\ {\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Successful random walk set is measurable%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
Preimage of function snth is measurable%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ snth{\isacharunderscore}{\kern0pt}measurable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ n{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ k\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isasymin}\ measurable\ M\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli\ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ \ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ measurable{\isacharunderscore}{\kern0pt}sets{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isachardoublequoteclose}\ M\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}preimage{\isacharbrackleft}{\kern0pt}of\ M\ p\ {\isachardoublequoteopen}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}pre{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ n\ w\ k\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}length\ k\ {\isachargreater}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k\ {\isasymlongleftrightarrow}\ stake\ n\ w\ {\isacharequal}{\kern0pt}\ take\ n\ k\ {\isasymand}\ snth\ w\ n\ {\isacharequal}{\kern0pt}\ nth\ k\ n{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ w\ {\isacharequal}{\kern0pt}\ take\ n\ k\ {\isasymand}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n\ {\isacharequal}{\kern0pt}\ k\ {\isacharbang}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ take{\isacharunderscore}{\kern0pt}hd{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}of\ n\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ stake{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ n\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ append{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}stake\ n\ w{\isachardoublequoteclose}\ {\isachardoublequoteopen}take\ n\ k{\isachardoublequoteclose}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}snth\ w\ n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}nth\ k\ n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ length{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}of\ n\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ length{\isacharunderscore}{\kern0pt}stake{\isacharbrackleft}{\kern0pt}of\ n\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ Lattices{\isachardot}{\kern0pt}linorder{\isacharunderscore}{\kern0pt}class{\isachardot}{\kern0pt}min{\isachardot}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}iff{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ n\ {\isachardoublequoteopen}length\ k{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ append{\isadigit{1}}{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}conv\ hd{\isacharunderscore}{\kern0pt}drop{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ w\ {\isacharequal}{\kern0pt}\ take\ n\ k\ {\isasymand}\ snth\ w\ n\ {\isacharequal}{\kern0pt}\ nth\ k\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ take{\isacharunderscore}{\kern0pt}hd{\isacharunderscore}{\kern0pt}drop{\isacharbrackleft}{\kern0pt}of\ n\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ stake{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ n\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ append{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}conv{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}stake\ n\ w{\isachardoublequoteclose}\ {\isachardoublequoteopen}take\ n\ k{\isachardoublequoteclose}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}snth\ w\ n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isacharbrackleft}{\kern0pt}nth\ k\ n{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\ {\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ length{\isacharunderscore}{\kern0pt}take{\isacharbrackleft}{\kern0pt}of\ n\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ length{\isacharunderscore}{\kern0pt}stake{\isacharbrackleft}{\kern0pt}of\ n\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ Lattices{\isachardot}{\kern0pt}linorder{\isacharunderscore}{\kern0pt}class{\isachardot}{\kern0pt}min{\isachardot}{\kern0pt}absorb{\isacharunderscore}{\kern0pt}iff{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ n\ {\isachardoublequoteopen}length\ k{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ take{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}conv{\isacharunderscore}{\kern0pt}app{\isacharunderscore}{\kern0pt}nth{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}pre{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ n\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isasymAnd}k{\isachardot}{\kern0pt}\ length\ k\ {\isasymge}\ n\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induction\ n{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ k\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ {\isadigit{0}}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ k{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}w{\isachardot}{\kern0pt}\ stake\ {\isadigit{0}}\ w\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ {\isadigit{0}}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}k\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ {\isadigit{0}}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ a\ list\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
{\isachardoublequoteopen}\ k\ {\isacharequal}{\kern0pt}\ a\ {\isacharhash}{\kern0pt}\ list{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}w{\isachardot}{\kern0pt}\ stake\ {\isadigit{0}}\ w\ {\isacharequal}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ {\isadigit{0}}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}k\ {\isasymnoteq}\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ {\isadigit{0}}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ n\ k\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isadigit{1}}{\isachardot}{\kern0pt}\ n\ {\isasymle}\ length\ k{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ n\ {\isasymle}\ length\ k\ {\isasymLongrightarrow}\ stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ events{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}Suc\ n\ {\isacharequal}{\kern0pt}\ length\ k{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ n\ {\isasymle}\ length\ k{\isachardoublequoteclose}{\isachardoublequoteopen}Suc\ n\ {\isacharequal}{\kern0pt}\ length\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ n\ k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}nth\ k\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymsubseteq}\ stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ n\ k{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k\ {\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ w\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ w\ {\isacharequal}{\kern0pt}\ take\ n\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}pre{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ n\ k\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Suc\ n\ {\isasymle}\ length\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}snth\ w\ n\ {\isacharequal}{\kern0pt}\ nth\ k\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}pre{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ n\ k\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Suc\ n\ {\isasymle}\ length\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ n\ k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}nth\ k\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}snth\ w\ n\ {\isacharequal}{\kern0pt}\ nth\ k\ n{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}stake\ n\ w\ {\isacharequal}{\kern0pt}\ take\ n\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ n\ k{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k\ {\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isasymsubseteq}\ stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ w\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ n\ k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasyminter}\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}nth\ k\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}snth\ w\ n\ {\isacharequal}{\kern0pt}\ nth\ k\ n{\isachardoublequoteclose}{\isachardoublequoteopen}stake\ n\ w\ {\isacharequal}{\kern0pt}\ take\ n\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isacharequal}{\kern0pt}\ take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}pre{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ n\ k\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Suc\ n\ {\isasymle}\ length\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}w\ {\isasymin}\ stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}take\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ k\ {\isacharequal}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ take{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}of\ k\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Suc\ n\ {\isacharequal}{\kern0pt}\ length\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}take\ n\ k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymAnd}k{\isadigit{1}}{\isachardot}{\kern0pt}\ n\ {\isasymle}\ length\ k{\isadigit{1}}\ {\isasymLongrightarrow}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isadigit{1}}{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Suc\ n\ {\isacharequal}{\kern0pt}\ length\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isasymlambda}w{\isachardot}{\kern0pt}\ snth\ w\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}nth\ k\ n{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isacharunderscore}{\kern0pt}measurable\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ events{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ n\ {\isasymle}\ length\ k{\isachardoublequoteclose}{\isachardoublequoteopen}Suc\ n\ {\isasymnoteq}\ length\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ n\ {\isacharless}{\kern0pt}\ length\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isadigit{1}}\ {\isachardot}{\kern0pt}\ length\ k{\isadigit{1}}\ {\isacharless}{\kern0pt}\ length\ k\ {\isasymLongrightarrow}\ k{\isadigit{1}}\ {\isasymnoteq}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}w{\isachardot}{\kern0pt}\ stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ w\ {\isasymnoteq}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}stake{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}Suc\ n{\isachardoublequoteclose}\ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}Suc\ n\ {\isacharless}{\kern0pt}\ length\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ {\isacharparenleft}{\kern0pt}Suc\ n{\isacharparenright}{\kern0pt}\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isasymin}\ events{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The preimage of any list over function stake is measurable%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ n\ k\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}length\ k\ {\isasymge}\ n{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ k\ {\isasymge}\ n{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ n\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ n\ {\isasymle}\ length\ k{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ k\ {\isacharless}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}k{\isadigit{1}}\ {\isachardot}{\kern0pt}\ length\ k{\isadigit{1}}\ {\isachargreater}{\kern0pt}\ length\ k\ {\isasymLongrightarrow}\ k{\isadigit{1}}\ {\isasymnoteq}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}w{\isachardot}{\kern0pt}\ stake\ n\ w\ {\isasymnoteq}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}stake{\isacharbrackleft}{\kern0pt}of\ n\ \ w{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}length\ k\ {\isacharless}{\kern0pt}\ n{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}k{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ UN{\isacharunderscore}{\kern0pt}empty{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ l{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The preimage of any list set over function stake is measurable once the set is finite%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}stake{\isacharunderscore}{\kern0pt}measurable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ A\ \isakeyword{and}\ n{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\isanewline
\ \ \isakeyword{assumes}{\isachardoublequoteopen}finite\ A{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isasymin}A{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}stake\ n\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ A{\isacharparenright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}measurable\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ sets{\isachardot}{\kern0pt}finite{\isacharunderscore}{\kern0pt}UN{\isacharparenright}{\kern0pt}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The new $geom\_proc$ function for list%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{fun}\isamarkupfalse%
\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}int\ {\isasymRightarrow}\ bool\ list\ {\isasymRightarrow}\ int{\isachardoublequoteclose}\isakeyword{where}\isanewline
{\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharbrackleft}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ init{\isachardoublequoteclose}{\isacharbar}{\kern0pt}\isanewline
{\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharhash}{\kern0pt}\ xs{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ x\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ xs{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ reverse{\isacharunderscore}{\kern0pt}construct{\isacharunderscore}{\kern0pt}pre{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ lengthx\ y\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isasymAnd}x{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x\ {\isasymLongrightarrow}\ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False{\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induction\ {\isachardoublequoteopen}lengthx{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ length\ x\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ lengthx\ x\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
{\isachardoublequoteopen}\ {\isacharparenleft}{\kern0pt}{\isasymAnd}x{\isadigit{1}}{\isachardot}{\kern0pt}\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isadigit{1}}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x{\isadigit{1}}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x{\isadigit{1}}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}Suc\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
{\isachardoublequoteopen}Suc\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}x{\isadigit{1}}{\isachardot}{\kern0pt}\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isadigit{1}}\ {\isasymLongrightarrow}\isanewline
\ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x{\isadigit{1}}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x{\isadigit{1}}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}hd\ x\ {\isacharhash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tl\ x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ del{\isacharunderscore}{\kern0pt}insts{\isacharparenright}{\kern0pt}\ Nil{\isacharunderscore}{\kern0pt}is{\isacharunderscore}{\kern0pt}append{\isacharunderscore}{\kern0pt}conv\ {\isacartoucheopen}Suc\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isacartoucheclose}\ hd{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}tl\ hd{\isacharunderscore}{\kern0pt}append{\isadigit{2}}\ length{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}conv\ list{\isachardot}{\kern0pt}discI\ tl{\isacharunderscore}{\kern0pt}append{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}hd\ x\ {\isacharhash}{\kern0pt}\ {\isacharparenleft}{\kern0pt}tl\ x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ hd\ x\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False{\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}tl\ x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}tl\ x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}tl\ x{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}Suc\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isacartoucheclose}\ {\isacartoucheopen}{\isasymAnd}x{\isadigit{1}}{\isachardot}{\kern0pt}\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isadigit{1}}\ {\isasymLongrightarrow}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x{\isadigit{1}}\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x{\isadigit{1}}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}tl\ x{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ hd\ x\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False{\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}Suc\ lengthx\ {\isacharequal}{\kern0pt}\ length\ x{\isacartoucheclose}\ add{\isachardot}{\kern0pt}commute\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ hd{\isacharunderscore}{\kern0pt}Cons{\isacharunderscore}{\kern0pt}tl\ length{\isacharunderscore}{\kern0pt}Suc{\isacharunderscore}{\kern0pt}conv\ list{\isachardot}{\kern0pt}discI{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x\ {\isacharplus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ y\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ reverse{\isacharunderscore}{\kern0pt}construct{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ x\ y\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}y{\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ x\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ y\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False{\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ reverse{\isacharunderscore}{\kern0pt}construct{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}length\ x{\isachardoublequoteclose}\ x\ init\ y{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}pre{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ x\ target\ i\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}induction\ i{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ {\isadigit{0}}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}enat\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ init{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ geometric{\isacharunderscore}{\kern0pt}process{\isacharbrackleft}{\kern0pt}of\ init\ x\ {\isachardoublequoteopen}enat\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isachardoublequoteopen}enat\ {\isadigit{0}}{\isachardoublequoteclose}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \ \ enat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}n{\isachardot}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ n\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ i\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i\ {\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}Suc{\isacharbrackleft}{\kern0pt}of\ i\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x\ {\isacharat}{\kern0pt}\ {\isacharbrackleft}{\kern0pt}x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i\ {\isacharbrackright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False{\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ reverse{\isacharunderscore}{\kern0pt}construct{\isacharbrackleft}{\kern0pt}of\ init\ {\isachardoublequoteopen}stake\ i\ x{\isachardoublequoteclose}\ {\isachardoublequoteopen}x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ x\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ i\ of\ True{\isasymRightarrow}{\isadigit{1}}{\isacharbar}{\kern0pt}False{\isasymRightarrow}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isacharparenleft}{\kern0pt}Suc\ i{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any natural number smaller than Inf A doesn't belong to A%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}belong{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ A\ \isakeyword{and}\ a{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isasymSqinter}\ A\ {\isachargreater}{\kern0pt}\ a{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}a\ {\isasymnotin}\ A{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymin}\ A{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}a\ {\isasymge}\ {\isasymSqinter}\ A{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Inf{\isacharunderscore}{\kern0pt}property{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ A\ a{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
This is the most important intermediate lemma prepared for lemma $success\_measurable. It clarifies
that any list in the image of successful random walk over function stake will never contain another 
shorter list corresponding to another successful random walk$%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\ \isakeyword{and}\ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}\isanewline
{\isacharequal}{\kern0pt}\ stake\ i\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymand}\ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isasymsubseteq}\ stake\ i\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ lhs{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isakeyword{and}\ lhs{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init\ target\ i\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{with}\isamarkupfalse%
\ lhs{\isadigit{2}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
{\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ stake\ k\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ take{\isacharunderscore}{\kern0pt}stake\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ take{\isacharunderscore}{\kern0pt}stake\ min{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ k\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init\ target\ {\isacharunderscore}{\kern0pt}\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ nonempty{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\isanewline
\ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i\ {\isacharequal}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ k\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ lhs{\isadigit{2}}\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ infm{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ not{\isacharunderscore}{\kern0pt}belong{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ enat{\isachardot}{\kern0pt}inject\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ k\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ k{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}length{\isacharunderscore}{\kern0pt}stake{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ stake\ i\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ i\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ stake\ i\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ rhs{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}take\ k\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rhs{\isadigit{2}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}length\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\ \isakeyword{and}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rhs{\isadigit{3}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stake\ i\ x{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ rhs{\isadigit{3}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init\ target\ i\ x{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{from}\isamarkupfalse%
\ rhs{\isadigit{1}}\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ k\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init\ target\ {\isacharunderscore}{\kern0pt}\ x{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ take{\isacharunderscore}{\kern0pt}stake{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ i\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ min{\isachardot}{\kern0pt}strict{\isacharunderscore}{\kern0pt}order{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ {\isacharunderscore}{\kern0pt}\ i{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ Inf\ {\isacharparenleft}{\kern0pt}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacharparenright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ infm{\isachardot}{\kern0pt}simps{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}i\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i\ {\isacharequal}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ k\ {\isasymnotin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ k\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ init\ x\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}Inf\ {\isacharparenleft}{\kern0pt}reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}i\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ k\ {\isasymnotin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ le{\isacharunderscore}{\kern0pt}refl\ nat{\isacharunderscore}{\kern0pt}less{\isacharunderscore}{\kern0pt}le\ nat{\isacharunderscore}{\kern0pt}neq{\isacharunderscore}{\kern0pt}iff\ set{\isacharunderscore}{\kern0pt}up{\isacharunderscore}{\kern0pt}Inf{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}\ target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ i\ {\isacharequal}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ stream{\isachardot}{\kern0pt}\ x\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}stop{\isacharunderscore}{\kern0pt}at\ {\isacharparenleft}{\kern0pt}init{\isacharparenright}{\kern0pt}\ x\ {\isacharparenleft}{\kern0pt}target{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ enat\ i{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}space{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}stake\ n\ {\isacharbackquote}{\kern0pt}\ space\ M\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}\ stake\ n\ {\isacharbackquote}{\kern0pt}\ space\ M\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}\ x\ {\isasymin}\ stake\ n\ {\isacharbackquote}{\kern0pt}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}stake\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ stake\ n\ {\isacharbackquote}{\kern0pt}\ space\ M\ {\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
{\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}length\ x\ {\isacharequal}{\kern0pt}\ n{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ k\ \isakeyword{where}\ {\isachardoublequoteopen}shd\ k\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k{\isadigit{1}}\ \isakeyword{where}{\isachardoublequoteopen}k{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ x\ {\isacharat}{\kern0pt}{\isacharminus}{\kern0pt}\ k{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ k{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}shift{\isacharbrackleft}{\kern0pt}of\ n\ x\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ {\isacartoucheopen}length\ x\ {\isacharequal}{\kern0pt}\ n{\isacartoucheclose}\isanewline
\ \ \ \ \ \ take{\isacharunderscore}{\kern0pt}all{\isacharbrackleft}{\kern0pt}of\ x\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ stake{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ k{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ k{\isadigit{2}}\ \isakeyword{where}\ {\isachardoublequoteopen}stake\ n\ k{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ x{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ length{\isacharunderscore}{\kern0pt}stake{\isacharbrackleft}{\kern0pt}of\ n\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}k{\isadigit{2}}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}\ x\ {\isasymin}\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharbackquote}{\kern0pt}\ space\ M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}stake\ n\ k{\isadigit{2}}\ {\isacharequal}{\kern0pt}\ x{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Set of all the lists with specific length is finite%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}length{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}U\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}UNIV{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ set{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}U\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharquery}{\kern0pt}U{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharquery}{\kern0pt}U\ {\isasymnoteq}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ fi{\isacharcolon}{\kern0pt}\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharbackquote}{\kern0pt}streams\ {\isacharquery}{\kern0pt}U{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}finite{\isacharunderscore}{\kern0pt}universe{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}of\ {\isacharquery}{\kern0pt}U{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ {\isacharbackquote}{\kern0pt}\ streams\ {\isacharquery}{\kern0pt}U\ {\isacharequal}{\kern0pt}\ stake\ n\ {\isacharbackquote}{\kern0pt}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stake\ n\ {\isacharbackquote}{\kern0pt}\ streams\ {\isacharquery}{\kern0pt}U\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ length\ c\ {\isacharequal}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ stake{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ n{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}finite\ {\isacharparenleft}{\kern0pt}stake\ n\ {\isacharbackquote}{\kern0pt}streams\ {\isacharquery}{\kern0pt}U{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \ \ \isanewline
\isacommand{lemma}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}image{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}finite\ {\isacharbraceleft}{\kern0pt}c{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}bool\ list{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isasymand}\ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}length{\isacharbrackleft}{\kern0pt}of\ i{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Sets of all successful random walk with specific stop is measurable%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ \isakeyword{and}\ \ target\ \isakeyword{and}\ \ i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}{\isacharless}{\kern0pt}init{\isachardoublequoteclose}{\isachardoublequoteopen}init{\isacharless}{\kern0pt}target{\isachardoublequoteclose}{\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ i{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ enat\ i{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ finite{\isacharunderscore}{\kern0pt}image{\isacharbrackleft}{\kern0pt}of\ i{\isacharbrackright}{\kern0pt}\isanewline
success{\isacharunderscore}{\kern0pt}measurable{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ init\ target\ i{\isacharbrackright}{\kern0pt}\isanewline
finite{\isacharunderscore}{\kern0pt}stake{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}c{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymforall}k{\isacharless}{\kern0pt}i{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ {\isacharparenleft}{\kern0pt}take\ k\ c{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ length\ c\ {\isacharequal}{\kern0pt}\ i\ {\isasymand}\ geom{\isacharunderscore}{\kern0pt}proc{\isacharunderscore}{\kern0pt}list\ init\ c\ {\isacharequal}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ presburger%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Any successful random walk must stop at specific position described by natural number%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\ \isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}i{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}nat{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ i{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xa\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ xa\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ xa\ target\ {\isacharequal}{\kern0pt}\ enat\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isasymnoteq}\ {\isasyminfinity}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ exist\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ i\ \isakeyword{where}\ {\isachardoublequoteopen}stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ enat\ i{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}xa\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ xa\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ xa\ target\ {\isacharequal}{\kern0pt}\ enat\ i{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}success\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xa\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ success\ init\ xa\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ xa\ target\ {\isacharequal}{\kern0pt}\ enat\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xa\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ xa\ target\ {\isasymand}\ stop{\isacharunderscore}{\kern0pt}at\ init\ xa\ target\ {\isacharequal}{\kern0pt}\ enat\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharparenleft}{\kern0pt}{\isasymUnion}x{\isachardot}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}xa\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ success\ init\ xa\ target\ {\isasymand}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stop{\isacharunderscore}{\kern0pt}at\ init\ xa\ target\ {\isacharequal}{\kern0pt}\ enat\ x{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
Here we need to elaborate about this most difficult lemma we've met during this model 
formalization. lemma $success\_measurable$ asserts that successful random walks set under assumption
"$0 \leq initial number \leq target number$" is measurable set for measure M. On the one hand, since the 
probability theory has been set up based on the measure theory, every specific set must be proved to
be measurable with respect to fixed measure before we calculate the probability of the set, which
severely hinders most of scholars and experts from formalizing the security analysis related to the 
probability since it's extremely difficult to prove why your set is measurable. That is exactly why 
our endeavor matters to provide the first example to overcome the difficulty. On the other hand, we 
are willing to briefly explain the way we prove this lemma since it's nontrivial even for pen-and-paper
proof. lemma $finite\_stake\_measurable$ states that for the function ($\lambda$w. stake n w) taking the first n 
steps of random walk, the preimage of a finite sets is measurable for measure M. lemma $finite\_image$ 
states that sets filled with all bool list of fixed length n is finite. lemma $success\_measurable2$ sets
up the bijection between successful random walks stopping at fixed step and preimage of successful bool
list with identical length. lemma $success\_measurable1$ demonstrates that set of successful random
walks is countable union of sets of successful random walks stopping at some step. Combining theses 4 
lemmas together proves the set of successful random walk is measurable. If you take a closed look at 
the proofs of these 4 lemmas patiently, you will find it's very hard to finish. Honestly, we will 
never be able to finish such difficult proofs within one month without the current stochastic process
theory library established just in 2021 by Mnacho Echenim, the author of theory $infinite\_coin\_toss\_space$.%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isasymle}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}init\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ equ{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}init\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{0}}\ x\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ enat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}n{\isachardot}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ n\ {\isacharunderscore}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ belong{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def\ geometric{\isacharunderscore}{\kern0pt}process\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ equ\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymSqinter}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}belong\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps\ infm{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ belong{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\ bernoulli\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ Collect{\isacharunderscore}{\kern0pt}mem{\isacharunderscore}{\kern0pt}eq\ sets{\isachardot}{\kern0pt}top{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}init\ {\isasymnoteq}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}init\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ equ{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}init\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ {\isadigit{0}}\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ geometric{\isacharunderscore}{\kern0pt}process\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isadigit{1}}\ {\isachardoublequoteopen}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ init\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ enat{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isasymlambda}n{\isachardot}{\kern0pt}\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre\ {\isadigit{1}}\ {\isacharparenleft}{\kern0pt}{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ init\ n\ {\isacharunderscore}{\kern0pt}{\isachardoublequoteclose}\ {\isachardoublequoteopen}\ {\isacharminus}{\kern0pt}{\isadigit{1}}{\isachardoublequoteclose}\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ belong{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isadigit{0}}\ {\isasymin}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ reach{\isacharunderscore}{\kern0pt}steps{\isacharunderscore}{\kern0pt}def\ geometric{\isacharunderscore}{\kern0pt}process\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isachardot}{\kern0pt}simps\ gambler{\isacharunderscore}{\kern0pt}rand{\isacharunderscore}{\kern0pt}walk{\isacharunderscore}{\kern0pt}pre{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ equ{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymSqinter}\ reach{\isacharunderscore}{\kern0pt}steps\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ not{\isacharunderscore}{\kern0pt}belong\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ stop{\isacharunderscore}{\kern0pt}at{\isachardot}{\kern0pt}simps\ infm{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ belong{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ enat{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ stop{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}{\isasymforall}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ stop{\isacharunderscore}{\kern0pt}at\ init\ x\ target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\ bernoulli\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ success\ init\ x\ target{\isachardoublequoteclose}\isakeyword{if}\ {\isachardoublequoteopen}target\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ that\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isachardoublequoteclose}\isakeyword{if}\ {\isachardoublequoteopen}target\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ success{\isachardot}{\kern0pt}simps\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ geom{\isacharunderscore}{\kern0pt}proc\ init\ x\ {\isadigit{0}}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ stop\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}target\ {\isasymnoteq}\ {\isadigit{0}}\ {\isasymLongrightarrow}\ {\isasymforall}x{\isasymin}space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ success\ init\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}empty{\isacharunderscore}{\kern0pt}eq\ {\isacartoucheopen}init\ {\isasymnoteq}\ target{\isacartoucheclose}\ equ{\isadigit{1}}\ sets{\isachardot}{\kern0pt}empty{\isacharunderscore}{\kern0pt}sets{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
{\isachardoublequoteopen}init{\isasymnoteq}{\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isadigit{0}}{\isacharless}{\kern0pt}init{\isachardoublequoteclose}{\isachardoublequoteopen}init{\isacharless}{\kern0pt}target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}init\ {\isasymnoteq}\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ init\ target\ {\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isadigit{3}}{\isacharbrackleft}{\kern0pt}of\ init\ target\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The set of all the random walk with first step True is measurable%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ snth{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}of\ {\isadigit{0}}\ True{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}simp\ add{\isacharcolon}{\kern0pt}\ insert{\isacharunderscore}{\kern0pt}compr\ streams{\isacharunderscore}{\kern0pt}UNIV{\isacharparenright}{\kern0pt}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\begin{isamarkuptext}%
The set of all the random walk with first step False is measurable%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}final{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}\ {\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ conditional{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}equation{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x\ {\isacharequal}{\kern0pt}\ True{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ Sigma{\isacharunderscore}{\kern0pt}Algebra{\isachardot}{\kern0pt}sets{\isachardot}{\kern0pt}Int{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ M\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd\isanewline
\ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Probability of successful random walk with its first step True%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\ P\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isasymle}\ target{\isachardoublequoteclose}{\isachardoublequoteopen}{\isasymAnd}x{\isachardot}{\kern0pt}\ P\ x\ {\isacharequal}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymlongleftrightarrow}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ t\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}{\isasymforall}x{\isachardot}{\kern0pt}\ shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{next}\isamarkupfalse%
\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isachardot}{\kern0pt}\ {\isasymnot}shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isachardot}{\kern0pt}\ P\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{1}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}simple{\isacharunderscore}{\kern0pt}function\ m\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ simple{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isachardot}{\kern0pt}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m\ {\isasymin}\ sets\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isacartoucheclose}{\isacartoucheopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ ennreal{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ insert{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ sets{\isachardot}{\kern0pt}top\ singletonD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}e\ {\isasymnoteq}\ {\isadigit{0}}{\isacartoucheclose}\ \ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{1}}{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}simple{\isacharunderscore}{\kern0pt}function\ m\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ simple{\isacharunderscore}{\kern0pt}function{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}finite\ {\isacharparenleft}{\kern0pt}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x{\isasymin}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isachardot}{\kern0pt}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m\ {\isasymin}\ sets\ m{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isacartoucheclose}{\isacartoucheopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ ennreal{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ insert{\isacharunderscore}{\kern0pt}absorb{\isadigit{2}}\ sets{\isachardot}{\kern0pt}top\ singletonD{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ {\isacartoucheopen}e\ {\isasymnoteq}\ {\isadigit{0}}{\isacartoucheclose}\ \ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}rephrase{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ f{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}{\isachardoublequoteopen}ennreal\ {\isasymRightarrow}\ ennreal{\isachardoublequoteclose}\ \isakeyword{and}\ e\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymnoteq}\ e{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}sum\ f\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}e{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ {\isadigit{0}}\ {\isacharplus}{\kern0pt}\ f\ {\isacharparenleft}{\kern0pt}e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ assms\ finite{\isachardot}{\kern0pt}insertI\ insert{\isacharunderscore}{\kern0pt}absorb\ insert{\isacharunderscore}{\kern0pt}not{\isacharunderscore}{\kern0pt}empty\ singleton{\isacharunderscore}{\kern0pt}insert{\isacharunderscore}{\kern0pt}inj{\isacharunderscore}{\kern0pt}eq{\isacharprime}{\kern0pt}\ sum{\isacharunderscore}{\kern0pt}clauses{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isadigit{0}}{\isasymle}p{\isadigit{1}}{\isachardoublequoteclose}{\isachardoublequoteopen}p{\isadigit{1}}{\isasymle}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}integral\isactrlsup S\ m\ f\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ simple{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}x{\isasymin}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isachardot}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}p{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ \ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}single\ ennreal{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pmf{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}False{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ False{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}single\ ennreal{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pmf{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}False{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ False{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ ennreal\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}x{\isasymin}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isachardot}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
{\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}rephrase{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ennreal\ e{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ add{\isachardot}{\kern0pt}left{\isacharunderscore}{\kern0pt}neutral\ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ ennreal{\isacharunderscore}{\kern0pt}mult{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ mult{\isachardot}{\kern0pt}commute\ mult{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}left{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{2}}{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isadigit{0}}{\isasymle}p{\isadigit{1}}{\isachardoublequoteclose}{\isachardoublequoteopen}p{\isadigit{1}}{\isasymle}{\isadigit{1}}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}integral\isactrlsup S\ m\ f\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ simple{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}def\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}x{\isasymin}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isachardot}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ \ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff{\isacharbrackleft}{\kern0pt}of\ e{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ mult{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral{\isacharparenright}{\kern0pt}\ \ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}single\ ennreal{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pmf{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}False{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ False{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\ \isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
{\isachardoublequoteopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ x\ {\isacharequal}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}{\isacharbrackleft}{\kern0pt}of\ x{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ mult{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}{\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \ {\isadigit{1}}{\isacharminus}{\kern0pt}p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ emeasure{\isacharunderscore}{\kern0pt}pmf{\isacharunderscore}{\kern0pt}single\ ennreal{\isacharunderscore}{\kern0pt}cong\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ pmf{\isacharunderscore}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}False{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}cong{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ False{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}\ False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ \isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}f\ {\isacharbackquote}{\kern0pt}\ space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharcomma}{\kern0pt}\ ennreal\ e{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymSum}x{\isasymin}f\ {\isacharbackquote}{\kern0pt}\ space\ m{\isachardot}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
{\isacharequal}{\kern0pt}\ {\isadigit{0}}\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ sum{\isacharunderscore}{\kern0pt}rephrase{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}ennreal\ e{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymlambda}x{\isachardot}{\kern0pt}\ x\ {\isacharasterisk}{\kern0pt}\ emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ ennreal{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}{\isadigit{0}}{\isacharunderscore}{\kern0pt}iff\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}ennreal\ e\ {\isacharasterisk}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isadigit{0}}\ {\isacharasterisk}{\kern0pt}\ ennreal\ p{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharasterisk}{\kern0pt}e{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ennreal{\isacharunderscore}{\kern0pt}mult{\isacharprime}{\kern0pt}\ mult{\isachardot}{\kern0pt}commute\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}space\ m\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}True{\isacharcomma}{\kern0pt}False{\isacharbraceright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}ennreal\ e{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ {\isacartoucheopen}emeasure\ m\ {\isacharparenleft}{\kern0pt}f\ {\isacharminus}{\kern0pt}{\isacharbackquote}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isadigit{0}}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ space\ m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\ \isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{3}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m\ {\isacharequal}{\kern0pt}\ integral\isactrlsup S\ m\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}simple{\isacharunderscore}{\kern0pt}integral\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{1}}{\isacharbrackleft}{\kern0pt}of\ m\ p{\isadigit{1}}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{3}}{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m\ {\isacharequal}{\kern0pt}\ integral\isactrlsup S\ m\ f{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{using}\isamarkupfalse%
\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}eq{\isacharunderscore}{\kern0pt}simple{\isacharunderscore}{\kern0pt}integral\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{1}}{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ m\ p{\isadigit{1}}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}e\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}const{\isacharbrackleft}{\kern0pt}of\ m\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ m\ p{\isadigit{1}}\ f\ e{\isacharbrackright}{\kern0pt}\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{3}}{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}\ e\ m\ f{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \ \ \ \ \ \ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}e\ {\isasymge}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ ennreal\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m\ {\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{4}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}e\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}const{\isacharbrackleft}{\kern0pt}of\ m\ {\isadigit{0}}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isasymnoteq}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}e\ {\isachargreater}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{2}}{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ m\ p{\isadigit{1}}\ f\ e{\isacharbrackright}{\kern0pt}\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isadigit{3}}{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}\ e\ m\ f{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto\ \ \ \ \ \ \ \ \ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharunderscore}{\kern0pt}final{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}ennreal\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}e\ {\isasymnoteq}\ top{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m\ {\isacharequal}{\kern0pt}\ p{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ e{\isadigit{1}}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isadigit{1}}{\isasymge}{\isadigit{0}}{\isachardoublequoteclose}\isakeyword{and}\ {\isachardoublequoteopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ennreal{\isacharunderscore}{\kern0pt}cases{\isacharbrackleft}{\kern0pt}of\ e{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f{\isadigit{1}}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f{\isadigit{1}}\ t\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isacartoucheclose}\ {\isacartoucheopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f{\isadigit{1}}\ t\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ennreal{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ mult{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral\ mult{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isadigit{1}}\ mult{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}right{\isadigit{1}}\ mult{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}\ e{\isadigit{1}}\ m\ f{\isadigit{1}}{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}e{\isadigit{1}}{\isasymge}{\isadigit{0}}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f{\isadigit{1}}\ t\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ {\isacartoucheopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ t{\isacartoucheclose}\ {\isacartoucheopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isacartoucheclose}\ ennreal{\isacharunderscore}{\kern0pt}mult{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharunderscore}{\kern0pt}final{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ p{\isadigit{1}}{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}real\ \isakeyword{and}\ e{\isacharcolon}{\kern0pt}{\isacharcolon}{\kern0pt}ennreal\ \isakeyword{and}\ f\isanewline
\ \ \isakeyword{assumes}\ \ {\isachardoublequoteopen}{\isadigit{0}}\ {\isasymle}\ p{\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}p{\isadigit{1}}\ {\isasymle}\ {\isadigit{1}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isachardoublequoteopen}e\ {\isasymnoteq}\ top{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}m\ {\isacharequal}{\kern0pt}\ measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f\ t\ {\isacharequal}{\kern0pt}\ e\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\isakeyword{shows}\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m\ {\isacharequal}{\kern0pt}{\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ e{\isadigit{1}}\ \isakeyword{where}\ {\isachardoublequoteopen}e{\isadigit{1}}{\isasymge}{\isadigit{0}}{\isachardoublequoteclose}\isakeyword{and}\ {\isachardoublequoteopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ ennreal{\isacharunderscore}{\kern0pt}cases{\isacharbrackleft}{\kern0pt}of\ e{\isacharbrackright}{\kern0pt}\ assms{\isacharparenleft}{\kern0pt}{\isadigit{3}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{obtain}\isamarkupfalse%
\ f{\isadigit{1}}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f{\isadigit{1}}\ t\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ assms{\isacharparenleft}{\kern0pt}{\isadigit{5}}{\isacharparenright}{\kern0pt}\ {\isacartoucheopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isacartoucheclose}\ {\isacartoucheopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f{\isadigit{1}}\ t\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}z{\isadigit{3}}{\isacharparenright}{\kern0pt}\ ennreal{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ mult{\isachardot}{\kern0pt}right{\isacharunderscore}{\kern0pt}neutral\ mult{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}left{\isadigit{1}}\ mult{\isacharunderscore}{\kern0pt}cancel{\isacharunderscore}{\kern0pt}right{\isadigit{1}}\ mult{\isacharunderscore}{\kern0pt}zero{\isacharunderscore}{\kern0pt}right{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}f\ t{\isacharparenright}{\kern0pt}\ {\isasympartial}m{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ assms\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ p{\isadigit{1}}\ e{\isadigit{1}}\ m\ f{\isadigit{1}}{\isacharbrackright}{\kern0pt}\ {\isacartoucheopen}e{\isadigit{1}}{\isasymge}{\isadigit{0}}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ f{\isadigit{1}}\ t\ {\isacharequal}{\kern0pt}\ e{\isadigit{1}}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ {\isacartoucheopen}{\isasymAnd}t{\isachardot}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}f{\isadigit{1}}\ t{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ f\ t{\isacartoucheclose}\ {\isacartoucheopen}ennreal\ e{\isadigit{1}}\ {\isacharequal}{\kern0pt}\ e{\isacartoucheclose}\ ennreal{\isacharunderscore}{\kern0pt}mult{\isacharprime}{\kern0pt}{\isacharprime}{\kern0pt}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}description{\isacharunderscore}{\kern0pt}pre{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\ t\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharbar}{\kern0pt}False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{if}\ \ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ space\ M{\isachardoublequoteclose}{\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stream{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}Stream\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}x\ {\isasymin}\ space\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stream{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}Stream{\isacharbrackleft}{\kern0pt}of\ \ t\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}{\isachardoublequoteopen}shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}x\ {\isasymin}\ space\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}x\ {\isasymin}\ space\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{if}\ \ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}description{\isacharunderscore}{\kern0pt}pre{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\ t\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\isanewline
{\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharbar}{\kern0pt}False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharparenleft}{\kern0pt}cases\ t{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}t{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{if}\ \ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ False{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{next}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isasymsubseteq}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{fix}\isamarkupfalse%
\ x\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ space\ M{\isachardoublequoteclose}{\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stream{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}Stream\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}x\ {\isasymin}\ space\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stream{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}Stream{\isacharbrackleft}{\kern0pt}of\ \ t\ x{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ target{\isachardoublequoteclose}{\isachardoublequoteopen}{\isasymnot}\ shd\ {\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}{\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x{\isacharparenright}{\kern0pt}\ {\isasymin}\ space\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{2}}{\isacharparenright}{\kern0pt}\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}x\ {\isasymin}\ space\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ {\isacartoucheopen}x\ {\isasymin}\ space\ M{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\ \isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ False{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{next}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}t{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isakeyword{if}\ \ {\isachardoublequoteopen}t\ {\isacharequal}{\kern0pt}\ True{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymnotin}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ stream{\isachardot}{\kern0pt}sel{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ that\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}t\ {\isacharequal}{\kern0pt}\ True{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\ \ \ \ \isacommand{term}\isamarkupfalse%
{\isachardoublequoteopen}emeasure{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isachardoublequoteclose}%
\begin{isamarkuptext}%
The lemma $semi\_goal\_true$ is the second difficulty we've overcome during the model formalization.
It asserts that probability of sets of successful random walk with first step True is equal to 
probability of sets of random walk times probability of sets of successful random walk with initial
number plus 1. Thanks to the lemma $emeasure\_stream\_space$ provided by Mnacho Echenim, the author of 
$infinite\_coin\_toss\_space$, we could finally use the integral rather than tediously break down the 
countable product to calculate the probability%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isacharunderscore}{\kern0pt}true{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}X{\isachardot}{\kern0pt}\ X\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isasympartial}{\isacharquery}{\kern0pt}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}final{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharparenright}{\kern0pt}\ \ \ \ \isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isasympartial}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ ennreal\ p\ {\isacharasterisk}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ top{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}t{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{1}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{0}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}description{\isacharunderscore}{\kern0pt}pre{\isacharbrackleft}{\kern0pt}of\ init\ target\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ mult{\isachardot}{\kern0pt}commute\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharunderscore}{\kern0pt}final{\isacharbrackleft}{\kern0pt}of\ p\ \isanewline
{\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
{\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymlambda}t{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharplus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ ennreal\ p\ {\isacharasterisk}{\kern0pt}\isanewline
\ \ \ \ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ennreal\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}probability{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isacharunderscore}{\kern0pt}false{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}{\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
%
\endisadelimproof
%
\isatagproof
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{let}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}M\ {\isacharequal}{\kern0pt}\ {\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymAnd}X{\isachardot}{\kern0pt}\ X\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isasymLongrightarrow}\isanewline
\ \ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ X\ {\isacharequal}{\kern0pt}\ {\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ X{\isacharbraceright}{\kern0pt}\ {\isasympartial}{\isacharquery}{\kern0pt}M{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ best{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ nn{\isacharunderscore}{\kern0pt}integral{\isacharunderscore}{\kern0pt}cong\ prob{\isacharunderscore}{\kern0pt}space{\isachardot}{\kern0pt}emeasure{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ prob{\isacharunderscore}{\kern0pt}space{\isacharunderscore}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ conditional{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}equation{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M\ {\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd{\isacharunderscore}{\kern0pt}false\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymintegral}\isactrlsup {\isacharplus}{\kern0pt}\ t{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ {\isasympartial}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isasymnoteq}\ top{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}finite{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharparenleft}{\kern0pt}{\isasymAnd}t{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ t\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\kern0pt}case\ t\ of\ True\ {\isasymRightarrow}\ {\isadigit{0}}\ {\isacharbar}{\kern0pt}\ False\ {\isasymRightarrow}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ fun{\isacharunderscore}{\kern0pt}description{\isacharunderscore}{\kern0pt}pre{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ init\ target\ {\isacharunderscore}{\kern0pt}{\isacharbrackright}{\kern0pt}\ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ \ \ mult{\isachardot}{\kern0pt}commute\ \isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isadigit{2}}{\isacharunderscore}{\kern0pt}final{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ p\isanewline
{\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}x{\isacharparenright}{\kern0pt}\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ \isanewline
{\isachardoublequoteopen}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
{\isachardoublequoteopen}{\isasymlambda}t{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isacharparenleft}{\kern0pt}t{\isacharparenright}{\kern0pt}\ {\isacharhash}{\kern0pt}{\isacharhash}{\kern0pt}\ x\ {\isasymin}\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\ \ \ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharquery}{\kern0pt}M{\isacharparenright}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init{\isacharminus}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\ {\isacharparenleft}{\kern0pt}stl\ x{\isacharparenright}{\kern0pt}\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharequal}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\isanewline
\ \ \ \ emeasure\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ {\isacharparenleft}{\kern0pt}stream{\isacharunderscore}{\kern0pt}space\ {\isacharparenleft}{\kern0pt}measure{\isacharunderscore}{\kern0pt}pmf\ {\isacharparenleft}{\kern0pt}bernoulli{\isacharunderscore}{\kern0pt}pmf\ p{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isacharparenright}{\kern0pt}{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharminus}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}probability{\isacharunderscore}{\kern0pt}compl{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}def{\isacharbrackleft}{\kern0pt}of\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
%
\endisadelimproof
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsubsubsection{Final goal: establish the recursive probability equation%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\begin{isamarkuptext}%
The final probability equation we want to formalize: $$P_n = pP_{n+1} + (1-p)P_{n-1}$$%
\end{isamarkuptext}\isamarkuptrue%
\isacommand{lemma}\isamarkupfalse%
\ Recursive{\isacharunderscore}{\kern0pt}probability{\isacharunderscore}{\kern0pt}equation{\isacharcolon}{\kern0pt}\isanewline
\ \ \isakeyword{fixes}\ init\ target\isanewline
\ \ \isakeyword{assumes}\ {\isachardoublequoteopen}{\isadigit{0}}\ {\isacharless}{\kern0pt}\ init{\isachardoublequoteclose}\ {\isachardoublequoteopen}init\ {\isacharless}{\kern0pt}\ target{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{shows}{\isachardoublequoteopen}probability{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}win\ init\ target\ {\isacharequal}{\kern0pt}\ p\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}probability{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}win\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}\ {\isacharplus}{\kern0pt}\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ {\isacharparenleft}{\kern0pt}probability{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}win\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ target{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{unfolding}\isamarkupfalse%
\ probability{\isacharunderscore}{\kern0pt}of{\isacharunderscore}{\kern0pt}win{\isachardot}{\kern0pt}simps\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}\isanewline
\ {\isacharequal}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ \isanewline
{\isacharplus}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasymunion}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isasyminter}\ {\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd{\isacharunderscore}{\kern0pt}false\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Sigma{\isacharunderscore}{\kern0pt}Algebra{\isachardot}{\kern0pt}sets{\isachardot}{\kern0pt}Int\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isasymin}\ sets\ M{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd{\isacharunderscore}{\kern0pt}false\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharunderscore}{\kern0pt}shd\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ success{\isacharunderscore}{\kern0pt}measurable{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \ \ \ \ \ \ \ \ Sigma{\isacharunderscore}{\kern0pt}Algebra{\isachardot}{\kern0pt}sets{\isachardot}{\kern0pt}Int\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{0}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ emeasure{\isacharunderscore}{\kern0pt}Un{\isacharunderscore}{\kern0pt}Int{\isacharbrackleft}{\kern0pt}of\ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ {\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\ M\ \ {\isachardoublequoteopen}{\isacharbraceleft}{\kern0pt}x{\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}{\isacharparenleft}{\kern0pt}shd\ x{\isacharparenright}{\kern0pt}{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ add{\isachardot}{\kern0pt}commute\ plus{\isacharunderscore}{\kern0pt}emeasure{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isacharunderscore}{\kern0pt}true{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ conditional{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}equation{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target\ {\isasymand}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ \isanewline
emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ semi{\isacharunderscore}{\kern0pt}goal{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ conditional{\isacharunderscore}{\kern0pt}set{\isacharunderscore}{\kern0pt}equation{\isacharunderscore}{\kern0pt}false{\isacharbrackleft}{\kern0pt}of\ init\ target{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ assms\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}smt\ {\isacharparenleft}{\kern0pt}verit{\isacharcomma}{\kern0pt}\ ccfv{\isacharunderscore}{\kern0pt}SIG{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong\ mem{\isacharunderscore}{\kern0pt}Collect{\isacharunderscore}{\kern0pt}eq{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ {\isadigit{1}}{\isacharminus}{\kern0pt}p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ {\isasymnot}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharminus}{\kern0pt}p{\isacharparenright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}probability{\isacharunderscore}{\kern0pt}compl{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ shd\ x{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ p{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}{\kern0pt}\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}n{\isachardot}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}w\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ w\ {\isacharbang}{\kern0pt}{\isacharbang}{\kern0pt}\ n{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\ ennreal\ p{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ bernoulli{\isacharunderscore}{\kern0pt}stream{\isacharunderscore}{\kern0pt}component{\isacharunderscore}{\kern0pt}probability{\isacharbrackleft}{\kern0pt}of\ M\ p{\isacharbrackright}{\kern0pt}\isanewline
\ \ \ \ \ \ \ \ \ \ bernoulli\isanewline
\ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}gt{\isacharunderscore}{\kern0pt}{\isadigit{0}}\isanewline
\ \ \ \ \ \ \ \ \ \ p{\isacharunderscore}{\kern0pt}lt{\isacharunderscore}{\kern0pt}{\isadigit{1}}\isanewline
\ \ \ \ \ \ \ \ \ \ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}{\kern0pt}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ snth{\isachardot}{\kern0pt}simps{\isacharparenleft}{\kern0pt}{\isadigit{1}}{\isacharparenright}{\kern0pt}\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}{\kern0pt}metis\ {\isacharparenleft}{\kern0pt}no{\isacharunderscore}{\kern0pt}types{\isacharcomma}{\kern0pt}\ lifting{\isacharparenright}{\kern0pt}\ Collect{\isacharunderscore}{\kern0pt}cong{\isacharparenright}{\kern0pt}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ init\ x\ target{\isacharbraceright}{\kern0pt}\ {\isacharequal}{\kern0pt}\isanewline
\ \ ennreal\ p\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharplus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}\ {\isacharplus}{\kern0pt}\isanewline
\ \ ennreal\ {\isacharparenleft}{\kern0pt}{\isadigit{1}}\ {\isacharminus}{\kern0pt}\ p{\isacharparenright}{\kern0pt}\ {\isacharasterisk}{\kern0pt}\ emeasure\ M\ {\isacharbraceleft}{\kern0pt}x\ {\isasymin}\ space\ M{\isachardot}{\kern0pt}\ success\ {\isacharparenleft}{\kern0pt}init\ {\isacharminus}{\kern0pt}\ {\isadigit{1}}{\isacharparenright}{\kern0pt}\ x\ target{\isacharbraceright}{\kern0pt}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ force\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{end}\isamarkupfalse%
\isanewline
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/Desktop/Gambler_Ruin_Problem/Gambler_Ruin_Problem.thy%:%
%:%10=1%:%
%:%11=1%:%
%:%12=2%:%
%:%13=3%:%
%:%14=4%:%
%:%28=5%:%
%:%40=7%:%
%:%49=9%:%
%:%61=10%:%
%:%62=11%:%
%:%63=12%:%
%:%64=13%:%
%:%68=17%:%
%:%69=18%:%
%:%70=19%:%
%:%71=20%:%
%:%72=21%:%
%:%73=22%:%
%:%74=23%:%
%:%83=26%:%
%:%93=27%:%
%:%94=27%:%
%:%95=28%:%
%:%96=29%:%
%:%97=30%:%
%:%98=31%:%
%:%99=31%:%
%:%100=32%:%
%:%102=34%:%
%:%103=35%:%
%:%104=36%:%
%:%105=37%:%
%:%106=38%:%
%:%107=39%:%
%:%108=40%:%
%:%109=41%:%
%:%110=42%:%
%:%111=43%:%
%:%113=45%:%
%:%114=45%:%
%:%115=46%:%
%:%116=47%:%
%:%117=48%:%
%:%118=49%:%
%:%125=51%:%
%:%137=52%:%
%:%138=53%:%
%:%140=56%:%
%:%141=56%:%
%:%142=57%:%
%:%144=59%:%
%:%146=61%:%
%:%147=61%:%
%:%148=62%:%
%:%150=64%:%
%:%152=65%:%
%:%153=65%:%
%:%154=66%:%
%:%155=67%:%
%:%162=68%:%
%:%163=68%:%
%:%164=69%:%
%:%165=69%:%
%:%166=70%:%
%:%167=70%:%
%:%168=70%:%
%:%169=71%:%
%:%170=71%:%
%:%171=72%:%
%:%172=72%:%
%:%173=73%:%
%:%174=73%:%
%:%175=73%:%
%:%176=74%:%
%:%177=74%:%
%:%178=75%:%
%:%179=75%:%
%:%180=76%:%
%:%181=76%:%
%:%182=76%:%
%:%183=77%:%
%:%184=77%:%
%:%185=78%:%
%:%186=79%:%
%:%187=79%:%
%:%188=80%:%
%:%194=80%:%
%:%197=81%:%
%:%198=82%:%
%:%199=83%:%
%:%200=83%:%
%:%201=84%:%
%:%203=86%:%
%:%204=87%:%
%:%205=88%:%
%:%207=92%:%
%:%208=92%:%
%:%209=93%:%
%:%211=95%:%
%:%220=98%:%
%:%224=100%:%
%:%236=101%:%
%:%238=102%:%
%:%239=102%:%
%:%240=103%:%
%:%241=104%:%
%:%242=105%:%
%:%249=106%:%
%:%250=106%:%
%:%251=107%:%
%:%252=107%:%
%:%253=108%:%
%:%254=108%:%
%:%255=108%:%
%:%256=109%:%
%:%257=109%:%
%:%258=109%:%
%:%259=110%:%
%:%260=110%:%
%:%261=110%:%
%:%262=111%:%
%:%263=111%:%
%:%264=111%:%
%:%265=112%:%
%:%280=114%:%
%:%290=115%:%
%:%291=115%:%
%:%294=116%:%
%:%298=116%:%
%:%299=116%:%
%:%300=116%:%
%:%309=118%:%
%:%311=119%:%
%:%312=119%:%
%:%313=120%:%
%:%320=121%:%
%:%321=121%:%
%:%322=122%:%
%:%323=122%:%
%:%324=123%:%
%:%325=124%:%
%:%326=124%:%
%:%327=125%:%
%:%328=125%:%
%:%329=126%:%
%:%330=127%:%
%:%331=127%:%
%:%332=128%:%
%:%333=128%:%
%:%334=129%:%
%:%335=129%:%
%:%336=129%:%
%:%337=130%:%
%:%338=131%:%
%:%339=131%:%
%:%340=132%:%
%:%341=132%:%
%:%342=133%:%
%:%343=133%:%
%:%344=134%:%
%:%345=134%:%
%:%346=135%:%
%:%347=135%:%
%:%349=137%:%
%:%350=138%:%
%:%351=138%:%
%:%352=139%:%
%:%353=140%:%
%:%354=140%:%
%:%355=141%:%
%:%356=141%:%
%:%357=142%:%
%:%358=142%:%
%:%359=142%:%
%:%361=144%:%
%:%362=145%:%
%:%363=145%:%
%:%364=146%:%
%:%365=147%:%
%:%366=148%:%
%:%367=148%:%
%:%368=149%:%
%:%383=151%:%
%:%393=152%:%
%:%394=152%:%
%:%395=153%:%
%:%396=154%:%
%:%397=155%:%
%:%400=156%:%
%:%404=156%:%
%:%405=156%:%
%:%406=157%:%
%:%407=157%:%
%:%412=157%:%
%:%415=158%:%
%:%416=159%:%
%:%417=159%:%
%:%418=160%:%
%:%419=161%:%
%:%420=162%:%
%:%427=163%:%
%:%428=163%:%
%:%429=164%:%
%:%430=164%:%
%:%431=165%:%
%:%432=165%:%
%:%433=166%:%
%:%434=166%:%
%:%435=167%:%
%:%436=167%:%
%:%437=167%:%
%:%438=168%:%
%:%439=168%:%
%:%440=169%:%
%:%441=169%:%
%:%442=170%:%
%:%452=173%:%
%:%454=174%:%
%:%455=174%:%
%:%456=175%:%
%:%457=176%:%
%:%458=177%:%
%:%459=178%:%
%:%460=179%:%
%:%461=180%:%
%:%462=181%:%
%:%465=182%:%
%:%466=183%:%
%:%470=183%:%
%:%471=183%:%
%:%472=184%:%
%:%473=184%:%
%:%474=185%:%
%:%475=185%:%
%:%476=185%:%
%:%477=186%:%
%:%478=186%:%
%:%479=187%:%
%:%480=187%:%
%:%481=188%:%
%:%482=188%:%
%:%483=188%:%
%:%484=189%:%
%:%485=189%:%
%:%486=190%:%
%:%487=190%:%
%:%488=191%:%
%:%489=191%:%
%:%490=191%:%
%:%491=192%:%
%:%492=192%:%
%:%493=193%:%
%:%494=193%:%
%:%495=194%:%
%:%496=194%:%
%:%497=194%:%
%:%498=195%:%
%:%499=195%:%
%:%500=196%:%
%:%501=196%:%
%:%502=197%:%
%:%503=197%:%
%:%504=197%:%
%:%505=198%:%
%:%506=198%:%
%:%507=199%:%
%:%508=199%:%
%:%509=200%:%
%:%510=200%:%
%:%511=200%:%
%:%512=201%:%
%:%513=201%:%
%:%514=202%:%
%:%515=202%:%
%:%516=203%:%
%:%517=203%:%
%:%518=203%:%
%:%519=203%:%
%:%520=204%:%
%:%521=204%:%
%:%522=205%:%
%:%523=205%:%
%:%524=206%:%
%:%525=206%:%
%:%526=207%:%
%:%527=207%:%
%:%528=208%:%
%:%529=208%:%
%:%530=209%:%
%:%531=209%:%
%:%532=210%:%
%:%533=210%:%
%:%534=211%:%
%:%535=211%:%
%:%536=212%:%
%:%537=212%:%
%:%538=213%:%
%:%539=213%:%
%:%540=213%:%
%:%541=214%:%
%:%542=214%:%
%:%543=215%:%
%:%544=216%:%
%:%545=217%:%
%:%546=218%:%
%:%547=219%:%
%:%548=220%:%
%:%549=221%:%
%:%550=221%:%
%:%551=222%:%
%:%552=222%:%
%:%553=222%:%
%:%554=223%:%
%:%555=223%:%
%:%556=224%:%
%:%557=224%:%
%:%558=225%:%
%:%559=225%:%
%:%560=225%:%
%:%561=226%:%
%:%562=226%:%
%:%563=227%:%
%:%564=228%:%
%:%565=228%:%
%:%566=229%:%
%:%567=229%:%
%:%568=229%:%
%:%569=230%:%
%:%570=230%:%
%:%571=230%:%
%:%572=231%:%
%:%573=231%:%
%:%574=231%:%
%:%575=232%:%
%:%576=232%:%
%:%577=233%:%
%:%578=233%:%
%:%579=234%:%
%:%580=234%:%
%:%581=235%:%
%:%582=235%:%
%:%583=236%:%
%:%584=236%:%
%:%585=237%:%
%:%586=237%:%
%:%587=237%:%
%:%588=238%:%
%:%589=238%:%
%:%590=239%:%
%:%591=239%:%
%:%592=240%:%
%:%593=240%:%
%:%594=240%:%
%:%595=241%:%
%:%596=241%:%
%:%597=242%:%
%:%598=243%:%
%:%599=244%:%
%:%600=245%:%
%:%601=246%:%
%:%602=247%:%
%:%603=248%:%
%:%604=249%:%
%:%605=250%:%
%:%606=250%:%
%:%607=251%:%
%:%608=251%:%
%:%609=251%:%
%:%610=252%:%
%:%611=252%:%
%:%612=252%:%
%:%613=253%:%
%:%614=253%:%
%:%615=254%:%
%:%616=254%:%
%:%617=254%:%
%:%618=255%:%
%:%619=255%:%
%:%620=256%:%
%:%621=256%:%
%:%622=257%:%
%:%623=257%:%
%:%624=258%:%
%:%625=258%:%
%:%626=259%:%
%:%627=259%:%
%:%628=260%:%
%:%629=260%:%
%:%630=261%:%
%:%631=261%:%
%:%632=262%:%
%:%633=262%:%
%:%634=263%:%
%:%635=263%:%
%:%636=263%:%
%:%637=264%:%
%:%638=264%:%
%:%639=265%:%
%:%640=265%:%
%:%641=266%:%
%:%642=266%:%
%:%643=267%:%
%:%644=267%:%
%:%645=268%:%
%:%646=268%:%
%:%647=269%:%
%:%648=269%:%
%:%649=270%:%
%:%650=270%:%
%:%651=271%:%
%:%652=271%:%
%:%653=271%:%
%:%654=272%:%
%:%655=272%:%
%:%656=273%:%
%:%657=273%:%
%:%658=273%:%
%:%659=274%:%
%:%660=274%:%
%:%661=275%:%
%:%662=275%:%
%:%663=276%:%
%:%664=276%:%
%:%665=276%:%
%:%666=277%:%
%:%667=277%:%
%:%668=278%:%
%:%669=278%:%
%:%670=279%:%
%:%671=279%:%
%:%672=279%:%
%:%673=280%:%
%:%674=280%:%
%:%675=281%:%
%:%676=282%:%
%:%677=283%:%
%:%678=284%:%
%:%679=285%:%
%:%680=286%:%
%:%681=287%:%
%:%682=287%:%
%:%683=288%:%
%:%684=288%:%
%:%685=288%:%
%:%686=289%:%
%:%687=289%:%
%:%688=290%:%
%:%689=290%:%
%:%690=291%:%
%:%691=291%:%
%:%692=292%:%
%:%693=292%:%
%:%694=292%:%
%:%695=293%:%
%:%696=293%:%
%:%697=294%:%
%:%698=294%:%
%:%699=295%:%
%:%700=296%:%
%:%701=297%:%
%:%702=297%:%
%:%703=298%:%
%:%704=298%:%
%:%705=298%:%
%:%706=299%:%
%:%707=299%:%
%:%708=300%:%
%:%709=300%:%
%:%710=301%:%
%:%711=301%:%
%:%712=302%:%
%:%713=302%:%
%:%714=302%:%
%:%715=303%:%
%:%716=303%:%
%:%717=304%:%
%:%718=305%:%
%:%719=305%:%
%:%720=306%:%
%:%730=309%:%
%:%732=311%:%
%:%733=311%:%
%:%734=312%:%
%:%735=313%:%
%:%736=314%:%
%:%737=315%:%
%:%738=316%:%
%:%745=317%:%
%:%746=317%:%
%:%747=318%:%
%:%748=318%:%
%:%749=319%:%
%:%750=319%:%
%:%751=320%:%
%:%752=320%:%
%:%753=321%:%
%:%754=321%:%
%:%755=322%:%
%:%756=322%:%
%:%757=323%:%
%:%758=323%:%
%:%759=323%:%
%:%760=324%:%
%:%761=324%:%
%:%762=325%:%
%:%763=325%:%
%:%764=326%:%
%:%765=326%:%
%:%766=326%:%
%:%767=327%:%
%:%768=327%:%
%:%769=328%:%
%:%770=329%:%
%:%771=330%:%
%:%772=331%:%
%:%773=332%:%
%:%774=333%:%
%:%775=333%:%
%:%776=333%:%
%:%777=334%:%
%:%778=334%:%
%:%779=334%:%
%:%780=335%:%
%:%781=335%:%
%:%782=336%:%
%:%783=336%:%
%:%784=337%:%
%:%785=337%:%
%:%786=337%:%
%:%787=338%:%
%:%788=338%:%
%:%789=339%:%
%:%790=340%:%
%:%791=341%:%
%:%792=342%:%
%:%793=343%:%
%:%794=343%:%
%:%795=344%:%
%:%796=344%:%
%:%797=344%:%
%:%798=345%:%
%:%799=345%:%
%:%800=346%:%
%:%801=346%:%
%:%802=347%:%
%:%803=347%:%
%:%804=348%:%
%:%805=348%:%
%:%806=349%:%
%:%807=349%:%
%:%808=350%:%
%:%809=350%:%
%:%810=351%:%
%:%811=351%:%
%:%812=352%:%
%:%813=352%:%
%:%814=353%:%
%:%815=353%:%
%:%816=353%:%
%:%817=354%:%
%:%818=354%:%
%:%819=355%:%
%:%820=355%:%
%:%821=356%:%
%:%822=356%:%
%:%823=356%:%
%:%824=357%:%
%:%825=357%:%
%:%826=358%:%
%:%827=359%:%
%:%828=360%:%
%:%829=361%:%
%:%830=362%:%
%:%831=363%:%
%:%832=363%:%
%:%833=364%:%
%:%834=364%:%
%:%835=365%:%
%:%836=365%:%
%:%837=365%:%
%:%838=366%:%
%:%839=366%:%
%:%840=367%:%
%:%841=367%:%
%:%842=368%:%
%:%843=368%:%
%:%844=369%:%
%:%845=369%:%
%:%846=370%:%
%:%847=370%:%
%:%848=371%:%
%:%849=371%:%
%:%850=371%:%
%:%851=372%:%
%:%852=372%:%
%:%853=373%:%
%:%854=373%:%
%:%855=373%:%
%:%856=374%:%
%:%857=374%:%
%:%858=375%:%
%:%859=376%:%
%:%860=377%:%
%:%861=377%:%
%:%862=378%:%
%:%863=378%:%
%:%864=379%:%
%:%865=379%:%
%:%866=379%:%
%:%867=380%:%
%:%868=380%:%
%:%869=381%:%
%:%870=381%:%
%:%871=381%:%
%:%872=382%:%
%:%873=382%:%
%:%874=383%:%
%:%875=383%:%
%:%876=384%:%
%:%877=384%:%
%:%878=385%:%
%:%879=386%:%
%:%880=387%:%
%:%881=388%:%
%:%882=388%:%
%:%883=389%:%
%:%884=389%:%
%:%885=389%:%
%:%886=390%:%
%:%887=390%:%
%:%888=391%:%
%:%889=392%:%
%:%890=393%:%
%:%891=393%:%
%:%892=394%:%
%:%893=394%:%
%:%894=394%:%
%:%895=395%:%
%:%896=395%:%
%:%897=396%:%
%:%898=396%:%
%:%899=397%:%
%:%900=397%:%
%:%901=397%:%
%:%902=398%:%
%:%903=398%:%
%:%904=399%:%
%:%905=399%:%
%:%906=400%:%
%:%907=400%:%
%:%908=400%:%
%:%909=401%:%
%:%910=401%:%
%:%911=402%:%
%:%912=402%:%
%:%913=403%:%
%:%928=405%:%
%:%940=406%:%
%:%942=407%:%
%:%943=407%:%
%:%944=408%:%
%:%945=409%:%
%:%946=410%:%
%:%953=411%:%
%:%954=411%:%
%:%955=412%:%
%:%956=412%:%
%:%957=413%:%
%:%958=413%:%
%:%959=414%:%
%:%960=415%:%
%:%961=416%:%
%:%962=417%:%
%:%963=418%:%
%:%964=419%:%
%:%965=420%:%
%:%966=420%:%
%:%967=421%:%
%:%968=421%:%
%:%969=422%:%
%:%970=422%:%
%:%971=423%:%
%:%972=423%:%
%:%973=424%:%
%:%974=424%:%
%:%975=425%:%
%:%976=425%:%
%:%977=426%:%
%:%978=427%:%
%:%979=428%:%
%:%980=428%:%
%:%981=429%:%
%:%982=429%:%
%:%983=430%:%
%:%984=430%:%
%:%985=431%:%
%:%986=431%:%
%:%987=432%:%
%:%997=434%:%
%:%999=435%:%
%:%1000=435%:%
%:%1001=436%:%
%:%1002=437%:%
%:%1003=438%:%
%:%1010=439%:%
%:%1011=439%:%
%:%1012=440%:%
%:%1013=440%:%
%:%1014=441%:%
%:%1015=441%:%
%:%1016=442%:%
%:%1017=443%:%
%:%1018=444%:%
%:%1019=445%:%
%:%1020=446%:%
%:%1021=447%:%
%:%1022=448%:%
%:%1023=448%:%
%:%1024=449%:%
%:%1025=449%:%
%:%1026=450%:%
%:%1027=450%:%
%:%1028=451%:%
%:%1029=451%:%
%:%1030=452%:%
%:%1031=452%:%
%:%1032=453%:%
%:%1033=453%:%
%:%1034=454%:%
%:%1035=455%:%
%:%1036=456%:%
%:%1037=456%:%
%:%1038=457%:%
%:%1039=457%:%
%:%1040=458%:%
%:%1041=458%:%
%:%1042=459%:%
%:%1043=459%:%
%:%1044=460%:%
%:%1059=462%:%
%:%1071=463%:%
%:%1072=464%:%
%:%1074=465%:%
%:%1075=465%:%
%:%1076=466%:%
%:%1077=467%:%
%:%1078=468%:%
%:%1079=469%:%
%:%1080=470%:%
%:%1081=471%:%
%:%1082=472%:%
%:%1089=473%:%
%:%1090=473%:%
%:%1091=474%:%
%:%1092=474%:%
%:%1093=475%:%
%:%1094=476%:%
%:%1095=476%:%
%:%1096=477%:%
%:%1097=477%:%
%:%1098=478%:%
%:%1099=478%:%
%:%1100=479%:%
%:%1101=479%:%
%:%1102=479%:%
%:%1103=480%:%
%:%1104=480%:%
%:%1105=481%:%
%:%1106=481%:%
%:%1107=482%:%
%:%1108=482%:%
%:%1109=483%:%
%:%1110=483%:%
%:%1111=483%:%
%:%1112=484%:%
%:%1113=484%:%
%:%1114=485%:%
%:%1115=486%:%
%:%1116=486%:%
%:%1117=487%:%
%:%1118=487%:%
%:%1119=487%:%
%:%1120=488%:%
%:%1121=488%:%
%:%1122=489%:%
%:%1123=490%:%
%:%1124=491%:%
%:%1125=492%:%
%:%1126=493%:%
%:%1127=493%:%
%:%1128=494%:%
%:%1129=494%:%
%:%1130=494%:%
%:%1131=495%:%
%:%1132=495%:%
%:%1133=496%:%
%:%1134=496%:%
%:%1135=497%:%
%:%1136=497%:%
%:%1137=498%:%
%:%1138=498%:%
%:%1139=499%:%
%:%1140=500%:%
%:%1141=500%:%
%:%1142=501%:%
%:%1143=501%:%
%:%1144=502%:%
%:%1145=502%:%
%:%1146=503%:%
%:%1147=503%:%
%:%1148=503%:%
%:%1149=504%:%
%:%1150=504%:%
%:%1151=505%:%
%:%1152=505%:%
%:%1153=506%:%
%:%1154=506%:%
%:%1155=507%:%
%:%1156=507%:%
%:%1157=507%:%
%:%1158=508%:%
%:%1159=508%:%
%:%1160=509%:%
%:%1161=510%:%
%:%1162=510%:%
%:%1163=511%:%
%:%1164=511%:%
%:%1165=511%:%
%:%1166=512%:%
%:%1167=512%:%
%:%1168=513%:%
%:%1169=514%:%
%:%1170=515%:%
%:%1171=516%:%
%:%1172=517%:%
%:%1173=517%:%
%:%1174=518%:%
%:%1175=518%:%
%:%1176=518%:%
%:%1177=519%:%
%:%1178=519%:%
%:%1179=520%:%
%:%1180=520%:%
%:%1181=521%:%
%:%1191=523%:%
%:%1192=524%:%
%:%1194=525%:%
%:%1195=525%:%
%:%1196=526%:%
%:%1197=527%:%
%:%1198=528%:%
%:%1199=529%:%
%:%1200=530%:%
%:%1201=531%:%
%:%1202=532%:%
%:%1209=533%:%
%:%1210=533%:%
%:%1211=534%:%
%:%1212=534%:%
%:%1213=535%:%
%:%1214=536%:%
%:%1215=536%:%
%:%1216=537%:%
%:%1217=537%:%
%:%1218=538%:%
%:%1219=538%:%
%:%1220=539%:%
%:%1221=539%:%
%:%1222=539%:%
%:%1223=540%:%
%:%1224=540%:%
%:%1225=541%:%
%:%1226=541%:%
%:%1227=542%:%
%:%1228=542%:%
%:%1229=543%:%
%:%1230=543%:%
%:%1231=543%:%
%:%1232=544%:%
%:%1233=544%:%
%:%1234=545%:%
%:%1235=546%:%
%:%1236=546%:%
%:%1237=547%:%
%:%1238=547%:%
%:%1239=547%:%
%:%1240=548%:%
%:%1241=548%:%
%:%1242=549%:%
%:%1243=550%:%
%:%1244=551%:%
%:%1245=552%:%
%:%1246=553%:%
%:%1247=553%:%
%:%1248=554%:%
%:%1249=554%:%
%:%1250=554%:%
%:%1251=555%:%
%:%1252=555%:%
%:%1253=556%:%
%:%1254=556%:%
%:%1255=557%:%
%:%1256=557%:%
%:%1257=558%:%
%:%1258=558%:%
%:%1259=559%:%
%:%1260=560%:%
%:%1261=560%:%
%:%1262=561%:%
%:%1263=561%:%
%:%1264=562%:%
%:%1265=562%:%
%:%1266=563%:%
%:%1267=563%:%
%:%1268=563%:%
%:%1269=564%:%
%:%1270=564%:%
%:%1271=565%:%
%:%1272=565%:%
%:%1273=566%:%
%:%1274=566%:%
%:%1275=567%:%
%:%1276=567%:%
%:%1277=567%:%
%:%1278=568%:%
%:%1279=568%:%
%:%1280=569%:%
%:%1281=570%:%
%:%1282=570%:%
%:%1283=571%:%
%:%1284=571%:%
%:%1285=571%:%
%:%1286=572%:%
%:%1287=572%:%
%:%1288=573%:%
%:%1289=574%:%
%:%1290=575%:%
%:%1291=576%:%
%:%1292=577%:%
%:%1293=577%:%
%:%1294=578%:%
%:%1295=578%:%
%:%1296=578%:%
%:%1297=579%:%
%:%1298=579%:%
%:%1299=580%:%
%:%1300=580%:%
%:%1301=581%:%
%:%1316=583%:%
%:%1328=585%:%
%:%1329=586%:%
%:%1333=588%:%
%:%1334=589%:%
%:%1336=591%:%
%:%1337=591%:%
%:%1338=592%:%
%:%1345=594%:%
%:%1357=597%:%
%:%1359=598%:%
%:%1360=598%:%
%:%1361=599%:%
%:%1362=600%:%
%:%1369=601%:%
%:%1370=601%:%
%:%1371=602%:%
%:%1372=602%:%
%:%1373=603%:%
%:%1374=603%:%
%:%1375=604%:%
%:%1376=604%:%
%:%1377=605%:%
%:%1378=605%:%
%:%1379=606%:%
%:%1380=606%:%
%:%1381=606%:%
%:%1382=607%:%
%:%1383=607%:%
%:%1384=608%:%
%:%1385=608%:%
%:%1386=608%:%
%:%1387=609%:%
%:%1388=609%:%
%:%1389=610%:%
%:%1390=611%:%
%:%1391=612%:%
%:%1392=612%:%
%:%1393=613%:%
%:%1399=613%:%
%:%1402=614%:%
%:%1403=615%:%
%:%1404=616%:%
%:%1405=616%:%
%:%1406=617%:%
%:%1407=618%:%
%:%1408=619%:%
%:%1415=620%:%
%:%1416=620%:%
%:%1417=621%:%
%:%1418=621%:%
%:%1419=622%:%
%:%1420=622%:%
%:%1421=622%:%
%:%1422=623%:%
%:%1423=623%:%
%:%1424=624%:%
%:%1425=625%:%
%:%1426=626%:%
%:%1427=627%:%
%:%1428=628%:%
%:%1429=629%:%
%:%1430=630%:%
%:%1431=630%:%
%:%1432=631%:%
%:%1433=631%:%
%:%1434=632%:%
%:%1435=632%:%
%:%1436=633%:%
%:%1437=633%:%
%:%1438=633%:%
%:%1439=634%:%
%:%1440=634%:%
%:%1441=635%:%
%:%1442=636%:%
%:%1443=637%:%
%:%1444=638%:%
%:%1445=639%:%
%:%1446=640%:%
%:%1447=641%:%
%:%1448=641%:%
%:%1449=642%:%
%:%1455=642%:%
%:%1458=643%:%
%:%1459=644%:%
%:%1460=645%:%
%:%1461=646%:%
%:%1462=646%:%
%:%1463=647%:%
%:%1464=648%:%
%:%1471=649%:%
%:%1472=649%:%
%:%1473=650%:%
%:%1474=650%:%
%:%1475=651%:%
%:%1476=651%:%
%:%1477=652%:%
%:%1478=652%:%
%:%1479=653%:%
%:%1480=653%:%
%:%1481=654%:%
%:%1482=654%:%
%:%1483=655%:%
%:%1484=655%:%
%:%1485=656%:%
%:%1486=656%:%
%:%1487=656%:%
%:%1488=657%:%
%:%1489=657%:%
%:%1490=658%:%
%:%1491=659%:%
%:%1492=660%:%
%:%1493=660%:%
%:%1494=661%:%
%:%1495=661%:%
%:%1496=661%:%
%:%1497=662%:%
%:%1498=662%:%
%:%1499=663%:%
%:%1500=663%:%
%:%1501=664%:%
%:%1502=664%:%
%:%1503=665%:%
%:%1504=665%:%
%:%1505=666%:%
%:%1506=666%:%
%:%1507=666%:%
%:%1508=667%:%
%:%1509=667%:%
%:%1510=668%:%
%:%1511=668%:%
%:%1512=669%:%
%:%1513=669%:%
%:%1514=670%:%
%:%1515=670%:%
%:%1516=670%:%
%:%1517=671%:%
%:%1518=671%:%
%:%1519=672%:%
%:%1520=672%:%
%:%1521=673%:%
%:%1522=673%:%
%:%1523=673%:%
%:%1524=674%:%
%:%1525=674%:%
%:%1526=675%:%
%:%1527=675%:%
%:%1528=676%:%
%:%1529=676%:%
%:%1530=677%:%
%:%1531=677%:%
%:%1532=678%:%
%:%1533=678%:%
%:%1534=679%:%
%:%1535=679%:%
%:%1536=680%:%
%:%1537=680%:%
%:%1538=681%:%
%:%1539=681%:%
%:%1540=682%:%
%:%1541=682%:%
%:%1542=683%:%
%:%1543=683%:%
%:%1544=684%:%
%:%1545=684%:%
%:%1546=685%:%
%:%1547=686%:%
%:%1548=686%:%
%:%1549=687%:%
%:%1550=687%:%
%:%1551=688%:%
%:%1552=688%:%
%:%1553=689%:%
%:%1554=689%:%
%:%1555=689%:%
%:%1556=690%:%
%:%1557=690%:%
%:%1558=691%:%
%:%1559=691%:%
%:%1560=691%:%
%:%1561=692%:%
%:%1562=692%:%
%:%1563=693%:%
%:%1564=694%:%
%:%1565=694%:%
%:%1566=695%:%
%:%1567=695%:%
%:%1568=696%:%
%:%1569=696%:%
%:%1570=697%:%
%:%1571=698%:%
%:%1572=699%:%
%:%1573=699%:%
%:%1574=700%:%
%:%1575=700%:%
%:%1576=701%:%
%:%1577=701%:%
%:%1578=702%:%
%:%1579=703%:%
%:%1580=703%:%
%:%1581=704%:%
%:%1582=704%:%
%:%1583=705%:%
%:%1584=705%:%
%:%1585=706%:%
%:%1586=706%:%
%:%1587=707%:%
%:%1588=708%:%
%:%1589=708%:%
%:%1590=709%:%
%:%1591=709%:%
%:%1592=710%:%
%:%1593=710%:%
%:%1594=711%:%
%:%1595=711%:%
%:%1596=711%:%
%:%1597=712%:%
%:%1598=712%:%
%:%1599=713%:%
%:%1600=713%:%
%:%1601=713%:%
%:%1602=714%:%
%:%1603=714%:%
%:%1604=715%:%
%:%1605=716%:%
%:%1606=716%:%
%:%1607=717%:%
%:%1608=717%:%
%:%1609=717%:%
%:%1610=718%:%
%:%1611=718%:%
%:%1612=719%:%
%:%1613=719%:%
%:%1614=720%:%
%:%1615=720%:%
%:%1616=721%:%
%:%1617=721%:%
%:%1618=721%:%
%:%1619=722%:%
%:%1620=722%:%
%:%1621=723%:%
%:%1622=724%:%
%:%1623=724%:%
%:%1624=725%:%
%:%1625=725%:%
%:%1626=725%:%
%:%1627=726%:%
%:%1628=726%:%
%:%1629=727%:%
%:%1630=728%:%
%:%1631=728%:%
%:%1632=729%:%
%:%1633=729%:%
%:%1634=729%:%
%:%1635=730%:%
%:%1636=730%:%
%:%1637=731%:%
%:%1638=731%:%
%:%1639=732%:%
%:%1640=732%:%
%:%1641=732%:%
%:%1642=733%:%
%:%1643=733%:%
%:%1644=734%:%
%:%1645=734%:%
%:%1646=735%:%
%:%1647=735%:%
%:%1648=736%:%
%:%1649=736%:%
%:%1650=736%:%
%:%1651=737%:%
%:%1652=737%:%
%:%1653=738%:%
%:%1654=738%:%
%:%1655=738%:%
%:%1656=739%:%
%:%1657=739%:%
%:%1658=740%:%
%:%1659=740%:%
%:%1660=741%:%
%:%1661=741%:%
%:%1662=742%:%
%:%1663=742%:%
%:%1664=742%:%
%:%1665=743%:%
%:%1666=743%:%
%:%1667=744%:%
%:%1668=745%:%
%:%1669=745%:%
%:%1670=746%:%
%:%1671=746%:%
%:%1672=746%:%
%:%1673=747%:%
%:%1674=747%:%
%:%1675=748%:%
%:%1676=748%:%
%:%1677=749%:%
%:%1678=749%:%
%:%1679=749%:%
%:%1680=750%:%
%:%1681=750%:%
%:%1682=751%:%
%:%1683=751%:%
%:%1684=752%:%
%:%1694=755%:%
%:%1696=756%:%
%:%1697=756%:%
%:%1698=757%:%
%:%1699=758%:%
%:%1706=759%:%
%:%1707=759%:%
%:%1708=760%:%
%:%1709=760%:%
%:%1710=761%:%
%:%1711=761%:%
%:%1712=761%:%
%:%1713=762%:%
%:%1714=762%:%
%:%1715=763%:%
%:%1716=763%:%
%:%1717=764%:%
%:%1718=764%:%
%:%1719=765%:%
%:%1720=765%:%
%:%1721=766%:%
%:%1722=766%:%
%:%1723=766%:%
%:%1724=767%:%
%:%1725=767%:%
%:%1726=768%:%
%:%1727=768%:%
%:%1728=768%:%
%:%1729=769%:%
%:%1730=769%:%
%:%1731=770%:%
%:%1732=770%:%
%:%1733=771%:%
%:%1734=771%:%
%:%1735=772%:%
%:%1736=772%:%
%:%1737=772%:%
%:%1738=773%:%
%:%1739=773%:%
%:%1740=774%:%
%:%1741=775%:%
%:%1742=775%:%
%:%1743=776%:%
%:%1744=776%:%
%:%1745=776%:%
%:%1746=777%:%
%:%1747=777%:%
%:%1748=778%:%
%:%1749=778%:%
%:%1750=779%:%
%:%1751=779%:%
%:%1752=779%:%
%:%1753=780%:%
%:%1754=780%:%
%:%1755=781%:%
%:%1756=781%:%
%:%1757=782%:%
%:%1767=784%:%
%:%1769=785%:%
%:%1770=785%:%
%:%1771=786%:%
%:%1772=787%:%
%:%1773=788%:%
%:%1780=789%:%
%:%1781=789%:%
%:%1782=790%:%
%:%1783=790%:%
%:%1784=791%:%
%:%1785=791%:%
%:%1786=792%:%
%:%1787=792%:%
%:%1788=792%:%
%:%1789=793%:%
%:%1790=793%:%
%:%1791=794%:%
%:%1792=795%:%
%:%1793=795%:%
%:%1794=796%:%
%:%1804=798%:%
%:%1806=799%:%
%:%1807=799%:%
%:%1808=800%:%
%:%1809=801%:%
%:%1810=802%:%
%:%1811=803%:%
%:%1812=804%:%
%:%1813=804%:%
%:%1814=805%:%
%:%1815=806%:%
%:%1822=807%:%
%:%1823=807%:%
%:%1824=808%:%
%:%1825=808%:%
%:%1828=811%:%
%:%1829=812%:%
%:%1830=812%:%
%:%1831=813%:%
%:%1832=813%:%
%:%1833=814%:%
%:%1834=814%:%
%:%1835=815%:%
%:%1836=815%:%
%:%1839=818%:%
%:%1840=819%:%
%:%1841=819%:%
%:%1842=819%:%
%:%1845=822%:%
%:%1846=823%:%
%:%1847=823%:%
%:%1848=824%:%
%:%1849=824%:%
%:%1850=825%:%
%:%1853=828%:%
%:%1854=829%:%
%:%1855=829%:%
%:%1856=830%:%
%:%1857=830%:%
%:%1858=831%:%
%:%1859=831%:%
%:%1860=831%:%
%:%1861=832%:%
%:%1862=832%:%
%:%1863=833%:%
%:%1864=833%:%
%:%1865=834%:%
%:%1866=834%:%
%:%1867=834%:%
%:%1868=835%:%
%:%1869=836%:%
%:%1870=836%:%
%:%1871=837%:%
%:%1872=837%:%
%:%1873=838%:%
%:%1874=838%:%
%:%1875=838%:%
%:%1876=839%:%
%:%1877=839%:%
%:%1878=840%:%
%:%1879=840%:%
%:%1880=840%:%
%:%1882=842%:%
%:%1883=843%:%
%:%1884=843%:%
%:%1885=844%:%
%:%1886=844%:%
%:%1887=845%:%
%:%1893=845%:%
%:%1896=846%:%
%:%1897=847%:%
%:%1898=847%:%
%:%1899=848%:%
%:%1900=849%:%
%:%1903=850%:%
%:%1907=850%:%
%:%1908=850%:%
%:%1909=851%:%
%:%1910=851%:%
%:%1915=851%:%
%:%1918=852%:%
%:%1919=853%:%
%:%1920=853%:%
%:%1921=854%:%
%:%1922=855%:%
%:%1923=856%:%
%:%1930=857%:%
%:%1931=857%:%
%:%1932=858%:%
%:%1933=858%:%
%:%1934=859%:%
%:%1935=859%:%
%:%1936=860%:%
%:%1937=861%:%
%:%1938=862%:%
%:%1939=863%:%
%:%1940=864%:%
%:%1941=865%:%
%:%1942=866%:%
%:%1943=866%:%
%:%1944=867%:%
%:%1945=867%:%
%:%1946=868%:%
%:%1947=868%:%
%:%1948=869%:%
%:%1949=869%:%
%:%1950=870%:%
%:%1951=870%:%
%:%1952=871%:%
%:%1953=871%:%
%:%1954=872%:%
%:%1955=872%:%
%:%1956=873%:%
%:%1957=873%:%
%:%1958=873%:%
%:%1959=874%:%
%:%1960=874%:%
%:%1961=875%:%
%:%1962=875%:%
%:%1963=876%:%
%:%1964=876%:%
%:%1965=876%:%
%:%1966=877%:%
%:%1967=877%:%
%:%1968=878%:%
%:%1969=878%:%
%:%1970=879%:%
%:%1971=879%:%
%:%1972=879%:%
%:%1973=880%:%
%:%1974=880%:%
%:%1975=881%:%
%:%1976=881%:%
%:%1977=882%:%
%:%1978=882%:%
%:%1979=882%:%
%:%1980=883%:%
%:%1981=883%:%
%:%1982=884%:%
%:%1992=886%:%
%:%1994=887%:%
%:%1995=887%:%
%:%1996=888%:%
%:%1997=889%:%
%:%1998=890%:%
%:%2005=891%:%
%:%2006=891%:%
%:%2007=892%:%
%:%2008=892%:%
%:%2009=893%:%
%:%2010=893%:%
%:%2011=893%:%
%:%2012=894%:%
%:%2013=894%:%
%:%2014=895%:%
%:%2015=895%:%
%:%2016=896%:%
%:%2017=896%:%
%:%2018=896%:%
%:%2019=897%:%
%:%2020=897%:%
%:%2021=898%:%
%:%2022=898%:%
%:%2023=899%:%
%:%2033=901%:%
%:%2034=902%:%
%:%2035=903%:%
%:%2037=904%:%
%:%2038=904%:%
%:%2039=905%:%
%:%2040=906%:%
%:%2041=907%:%
%:%2042=908%:%
%:%2049=909%:%
%:%2050=909%:%
%:%2051=910%:%
%:%2052=910%:%
%:%2053=911%:%
%:%2054=912%:%
%:%2055=912%:%
%:%2056=913%:%
%:%2057=913%:%
%:%2058=914%:%
%:%2059=914%:%
%:%2060=915%:%
%:%2061=915%:%
%:%2062=915%:%
%:%2063=916%:%
%:%2064=916%:%
%:%2065=917%:%
%:%2066=917%:%
%:%2067=917%:%
%:%2068=918%:%
%:%2069=918%:%
%:%2070=919%:%
%:%2071=919%:%
%:%2072=919%:%
%:%2073=920%:%
%:%2074=920%:%
%:%2075=921%:%
%:%2076=922%:%
%:%2077=922%:%
%:%2078=923%:%
%:%2079=923%:%
%:%2080=923%:%
%:%2081=924%:%
%:%2082=924%:%
%:%2083=925%:%
%:%2084=925%:%
%:%2085=926%:%
%:%2086=926%:%
%:%2087=927%:%
%:%2088=927%:%
%:%2089=928%:%
%:%2090=928%:%
%:%2091=928%:%
%:%2092=929%:%
%:%2093=929%:%
%:%2094=930%:%
%:%2095=930%:%
%:%2096=930%:%
%:%2097=931%:%
%:%2098=931%:%
%:%2099=932%:%
%:%2100=933%:%
%:%2101=933%:%
%:%2102=934%:%
%:%2103=934%:%
%:%2104=935%:%
%:%2105=936%:%
%:%2106=936%:%
%:%2107=937%:%
%:%2108=938%:%
%:%2109=938%:%
%:%2110=939%:%
%:%2111=939%:%
%:%2112=939%:%
%:%2113=940%:%
%:%2114=940%:%
%:%2115=941%:%
%:%2116=942%:%
%:%2117=943%:%
%:%2118=944%:%
%:%2119=944%:%
%:%2120=945%:%
%:%2121=945%:%
%:%2122=945%:%
%:%2123=946%:%
%:%2124=946%:%
%:%2125=947%:%
%:%2126=948%:%
%:%2127=948%:%
%:%2128=949%:%
%:%2129=949%:%
%:%2130=950%:%
%:%2131=950%:%
%:%2132=951%:%
%:%2133=951%:%
%:%2134=952%:%
%:%2135=952%:%
%:%2136=952%:%
%:%2137=953%:%
%:%2138=953%:%
%:%2139=954%:%
%:%2140=955%:%
%:%2141=955%:%
%:%2142=956%:%
%:%2143=956%:%
%:%2144=957%:%
%:%2145=957%:%
%:%2146=958%:%
%:%2147=958%:%
%:%2148=959%:%
%:%2149=960%:%
%:%2150=960%:%
%:%2151=961%:%
%:%2152=961%:%
%:%2153=962%:%
%:%2154=962%:%
%:%2155=963%:%
%:%2156=963%:%
%:%2157=963%:%
%:%2158=964%:%
%:%2159=965%:%
%:%2160=966%:%
%:%2161=966%:%
%:%2162=967%:%
%:%2163=967%:%
%:%2164=967%:%
%:%2165=968%:%
%:%2166=968%:%
%:%2167=969%:%
%:%2168=969%:%
%:%2169=970%:%
%:%2170=970%:%
%:%2171=970%:%
%:%2172=971%:%
%:%2173=971%:%
%:%2174=972%:%
%:%2175=972%:%
%:%2176=973%:%
%:%2177=973%:%
%:%2178=973%:%
%:%2179=974%:%
%:%2180=974%:%
%:%2181=975%:%
%:%2182=976%:%
%:%2183=977%:%
%:%2184=978%:%
%:%2185=978%:%
%:%2186=979%:%
%:%2187=979%:%
%:%2188=979%:%
%:%2189=980%:%
%:%2190=980%:%
%:%2191=981%:%
%:%2192=981%:%
%:%2193=982%:%
%:%2194=982%:%
%:%2195=983%:%
%:%2196=984%:%
%:%2197=985%:%
%:%2198=985%:%
%:%2199=986%:%
%:%2200=986%:%
%:%2201=986%:%
%:%2202=987%:%
%:%2203=987%:%
%:%2204=988%:%
%:%2205=989%:%
%:%2206=989%:%
%:%2207=990%:%
%:%2208=990%:%
%:%2209=990%:%
%:%2210=991%:%
%:%2211=991%:%
%:%2212=992%:%
%:%2213=993%:%
%:%2214=993%:%
%:%2215=994%:%
%:%2216=994%:%
%:%2217=994%:%
%:%2218=995%:%
%:%2219=995%:%
%:%2220=996%:%
%:%2221=997%:%
%:%2222=998%:%
%:%2223=998%:%
%:%2224=999%:%
%:%2225=999%:%
%:%2226=999%:%
%:%2227=1000%:%
%:%2228=1000%:%
%:%2229=1001%:%
%:%2230=1001%:%
%:%2231=1002%:%
%:%2232=1002%:%
%:%2233=1002%:%
%:%2234=1003%:%
%:%2235=1003%:%
%:%2236=1004%:%
%:%2237=1004%:%
%:%2238=1005%:%
%:%2239=1005%:%
%:%2240=1006%:%
%:%2241=1006%:%
%:%2242=1006%:%
%:%2243=1007%:%
%:%2244=1007%:%
%:%2245=1008%:%
%:%2246=1009%:%
%:%2247=1009%:%
%:%2248=1010%:%
%:%2249=1010%:%
%:%2250=1010%:%
%:%2251=1011%:%
%:%2252=1011%:%
%:%2253=1012%:%
%:%2254=1013%:%
%:%2255=1013%:%
%:%2256=1014%:%
%:%2257=1014%:%
%:%2258=1015%:%
%:%2264=1015%:%
%:%2267=1016%:%
%:%2268=1017%:%
%:%2269=1017%:%
%:%2276=1018%:%
%:%2277=1018%:%
%:%2278=1019%:%
%:%2279=1019%:%
%:%2280=1020%:%
%:%2281=1020%:%
%:%2282=1021%:%
%:%2283=1021%:%
%:%2284=1022%:%
%:%2285=1022%:%
%:%2286=1023%:%
%:%2287=1023%:%
%:%2288=1023%:%
%:%2289=1024%:%
%:%2290=1024%:%
%:%2291=1025%:%
%:%2292=1025%:%
%:%2293=1026%:%
%:%2294=1026%:%
%:%2295=1027%:%
%:%2296=1027%:%
%:%2297=1028%:%
%:%2298=1028%:%
%:%2299=1029%:%
%:%2300=1029%:%
%:%2301=1030%:%
%:%2302=1030%:%
%:%2303=1031%:%
%:%2304=1031%:%
%:%2305=1032%:%
%:%2306=1032%:%
%:%2307=1032%:%
%:%2308=1033%:%
%:%2309=1033%:%
%:%2310=1034%:%
%:%2311=1034%:%
%:%2312=1035%:%
%:%2313=1035%:%
%:%2314=1036%:%
%:%2315=1036%:%
%:%2316=1036%:%
%:%2317=1037%:%
%:%2318=1037%:%
%:%2319=1038%:%
%:%2320=1038%:%
%:%2321=1038%:%
%:%2322=1039%:%
%:%2323=1039%:%
%:%2324=1040%:%
%:%2325=1041%:%
%:%2326=1042%:%
%:%2327=1043%:%
%:%2328=1043%:%
%:%2329=1044%:%
%:%2330=1044%:%
%:%2331=1044%:%
%:%2332=1045%:%
%:%2333=1045%:%
%:%2334=1046%:%
%:%2335=1046%:%
%:%2336=1047%:%
%:%2337=1047%:%
%:%2338=1047%:%
%:%2339=1048%:%
%:%2340=1048%:%
%:%2341=1049%:%
%:%2342=1050%:%
%:%2343=1050%:%
%:%2344=1051%:%
%:%2345=1051%:%
%:%2346=1051%:%
%:%2347=1052%:%
%:%2348=1052%:%
%:%2349=1053%:%
%:%2350=1053%:%
%:%2351=1054%:%
%:%2352=1054%:%
%:%2353=1055%:%
%:%2363=1058%:%
%:%2365=1059%:%
%:%2366=1059%:%
%:%2373=1060%:%
%:%2374=1060%:%
%:%2375=1061%:%
%:%2376=1061%:%
%:%2377=1062%:%
%:%2378=1062%:%
%:%2379=1063%:%
%:%2380=1063%:%
%:%2381=1064%:%
%:%2382=1064%:%
%:%2383=1065%:%
%:%2384=1065%:%
%:%2385=1066%:%
%:%2386=1066%:%
%:%2387=1066%:%
%:%2388=1067%:%
%:%2389=1067%:%
%:%2390=1068%:%
%:%2391=1068%:%
%:%2392=1068%:%
%:%2393=1069%:%
%:%2394=1069%:%
%:%2395=1070%:%
%:%2396=1070%:%
%:%2397=1071%:%
%:%2398=1071%:%
%:%2399=1072%:%
%:%2400=1072%:%
%:%2401=1073%:%
%:%2402=1074%:%
%:%2403=1074%:%
%:%2404=1075%:%
%:%2405=1075%:%
%:%2406=1075%:%
%:%2407=1076%:%
%:%2408=1076%:%
%:%2409=1077%:%
%:%2410=1077%:%
%:%2411=1078%:%
%:%2412=1078%:%
%:%2413=1078%:%
%:%2414=1079%:%
%:%2415=1079%:%
%:%2416=1080%:%
%:%2417=1080%:%
%:%2418=1081%:%
%:%2424=1081%:%
%:%2427=1082%:%
%:%2428=1083%:%
%:%2429=1083%:%
%:%2432=1084%:%
%:%2436=1084%:%
%:%2437=1084%:%
%:%2438=1085%:%
%:%2439=1085%:%
%:%2448=1087%:%
%:%2450=1088%:%
%:%2451=1088%:%
%:%2452=1089%:%
%:%2453=1090%:%
%:%2454=1091%:%
%:%2457=1092%:%
%:%2461=1092%:%
%:%2462=1092%:%
%:%2463=1093%:%
%:%2464=1094%:%
%:%2467=1097%:%
%:%2468=1098%:%
%:%2469=1099%:%
%:%2470=1099%:%
%:%2479=1101%:%
%:%2481=1102%:%
%:%2482=1102%:%
%:%2483=1103%:%
%:%2484=1104%:%
%:%2485=1105%:%
%:%2486=1106%:%
%:%2493=1107%:%
%:%2494=1107%:%
%:%2495=1108%:%
%:%2496=1108%:%
%:%2497=1109%:%
%:%2498=1109%:%
%:%2499=1110%:%
%:%2500=1110%:%
%:%2501=1111%:%
%:%2502=1111%:%
%:%2503=1112%:%
%:%2504=1112%:%
%:%2505=1112%:%
%:%2506=1113%:%
%:%2507=1113%:%
%:%2508=1114%:%
%:%2509=1114%:%
%:%2510=1114%:%
%:%2511=1115%:%
%:%2512=1115%:%
%:%2513=1116%:%
%:%2514=1116%:%
%:%2515=1117%:%
%:%2516=1117%:%
%:%2517=1118%:%
%:%2518=1118%:%
%:%2519=1118%:%
%:%2520=1119%:%
%:%2521=1119%:%
%:%2522=1120%:%
%:%2523=1120%:%
%:%2524=1120%:%
%:%2525=1121%:%
%:%2526=1121%:%
%:%2527=1122%:%
%:%2528=1123%:%
%:%2529=1124%:%
%:%2530=1124%:%
%:%2531=1125%:%
%:%2532=1125%:%
%:%2533=1125%:%
%:%2534=1126%:%
%:%2535=1127%:%
%:%2536=1127%:%
%:%2537=1128%:%
%:%2538=1128%:%
%:%2539=1129%:%
%:%2540=1129%:%
%:%2541=1130%:%
%:%2542=1130%:%
%:%2543=1131%:%
%:%2544=1131%:%
%:%2545=1132%:%
%:%2546=1132%:%
%:%2547=1133%:%
%:%2548=1133%:%
%:%2550=1135%:%
%:%2551=1136%:%
%:%2552=1136%:%
%:%2553=1136%:%
%:%2554=1137%:%
%:%2555=1137%:%
%:%2556=1138%:%
%:%2557=1138%:%
%:%2558=1138%:%
%:%2559=1139%:%
%:%2560=1139%:%
%:%2561=1140%:%
%:%2562=1141%:%
%:%2563=1141%:%
%:%2564=1142%:%
%:%2565=1142%:%
%:%2566=1143%:%
%:%2576=1146%:%
%:%2577=1147%:%
%:%2578=1148%:%
%:%2579=1149%:%
%:%2580=1150%:%
%:%2581=1151%:%
%:%2582=1152%:%
%:%2583=1153%:%
%:%2584=1154%:%
%:%2585=1155%:%
%:%2586=1156%:%
%:%2587=1157%:%
%:%2588=1158%:%
%:%2589=1159%:%
%:%2590=1160%:%
%:%2591=1161%:%
%:%2592=1162%:%
%:%2593=1163%:%
%:%2594=1164%:%
%:%2596=1165%:%
%:%2597=1165%:%
%:%2598=1166%:%
%:%2599=1167%:%
%:%2600=1168%:%
%:%2607=1169%:%
%:%2608=1169%:%
%:%2609=1170%:%
%:%2610=1170%:%
%:%2611=1171%:%
%:%2612=1171%:%
%:%2613=1171%:%
%:%2614=1172%:%
%:%2615=1172%:%
%:%2616=1173%:%
%:%2617=1173%:%
%:%2618=1174%:%
%:%2619=1174%:%
%:%2620=1174%:%
%:%2621=1175%:%
%:%2622=1175%:%
%:%2623=1176%:%
%:%2624=1176%:%
%:%2625=1177%:%
%:%2626=1178%:%
%:%2627=1178%:%
%:%2628=1179%:%
%:%2629=1179%:%
%:%2630=1179%:%
%:%2631=1180%:%
%:%2632=1180%:%
%:%2633=1181%:%
%:%2634=1181%:%
%:%2635=1182%:%
%:%2636=1182%:%
%:%2637=1183%:%
%:%2638=1183%:%
%:%2639=1183%:%
%:%2640=1184%:%
%:%2641=1184%:%
%:%2642=1185%:%
%:%2643=1185%:%
%:%2644=1186%:%
%:%2645=1186%:%
%:%2646=1186%:%
%:%2647=1187%:%
%:%2648=1187%:%
%:%2649=1188%:%
%:%2650=1188%:%
%:%2651=1189%:%
%:%2652=1189%:%
%:%2653=1190%:%
%:%2654=1190%:%
%:%2655=1190%:%
%:%2656=1191%:%
%:%2657=1191%:%
%:%2658=1192%:%
%:%2659=1192%:%
%:%2660=1193%:%
%:%2661=1193%:%
%:%2662=1193%:%
%:%2663=1194%:%
%:%2664=1194%:%
%:%2665=1195%:%
%:%2666=1195%:%
%:%2667=1196%:%
%:%2668=1196%:%
%:%2669=1197%:%
%:%2670=1197%:%
%:%2671=1197%:%
%:%2672=1198%:%
%:%2673=1198%:%
%:%2674=1199%:%
%:%2675=1199%:%
%:%2676=1200%:%
%:%2677=1200%:%
%:%2678=1201%:%
%:%2679=1201%:%
%:%2680=1202%:%
%:%2681=1202%:%
%:%2682=1203%:%
%:%2683=1203%:%
%:%2684=1204%:%
%:%2685=1204%:%
%:%2686=1204%:%
%:%2687=1205%:%
%:%2688=1205%:%
%:%2689=1206%:%
%:%2690=1206%:%
%:%2691=1207%:%
%:%2692=1207%:%
%:%2693=1207%:%
%:%2694=1208%:%
%:%2695=1208%:%
%:%2696=1209%:%
%:%2697=1209%:%
%:%2698=1210%:%
%:%2699=1211%:%
%:%2700=1211%:%
%:%2701=1212%:%
%:%2702=1212%:%
%:%2703=1212%:%
%:%2704=1213%:%
%:%2705=1213%:%
%:%2706=1214%:%
%:%2707=1214%:%
%:%2708=1215%:%
%:%2709=1215%:%
%:%2710=1216%:%
%:%2711=1216%:%
%:%2712=1216%:%
%:%2713=1217%:%
%:%2714=1217%:%
%:%2715=1218%:%
%:%2716=1218%:%
%:%2717=1219%:%
%:%2718=1219%:%
%:%2719=1219%:%
%:%2720=1220%:%
%:%2721=1220%:%
%:%2722=1221%:%
%:%2723=1221%:%
%:%2724=1222%:%
%:%2725=1222%:%
%:%2726=1223%:%
%:%2727=1223%:%
%:%2728=1223%:%
%:%2729=1224%:%
%:%2730=1224%:%
%:%2731=1225%:%
%:%2732=1225%:%
%:%2733=1226%:%
%:%2734=1226%:%
%:%2735=1226%:%
%:%2736=1227%:%
%:%2737=1227%:%
%:%2738=1228%:%
%:%2739=1228%:%
%:%2740=1229%:%
%:%2741=1230%:%
%:%2742=1230%:%
%:%2743=1231%:%
%:%2744=1231%:%
%:%2745=1231%:%
%:%2746=1232%:%
%:%2747=1232%:%
%:%2748=1233%:%
%:%2749=1233%:%
%:%2750=1234%:%
%:%2751=1235%:%
%:%2752=1236%:%
%:%2753=1236%:%
%:%2754=1237%:%
%:%2755=1237%:%
%:%2756=1237%:%
%:%2757=1238%:%
%:%2758=1238%:%
%:%2759=1239%:%
%:%2760=1239%:%
%:%2761=1240%:%
%:%2762=1240%:%
%:%2763=1241%:%
%:%2764=1241%:%
%:%2765=1242%:%
%:%2766=1242%:%
%:%2767=1242%:%
%:%2768=1243%:%
%:%2769=1243%:%
%:%2770=1244%:%
%:%2771=1244%:%
%:%2772=1245%:%
%:%2773=1245%:%
%:%2774=1245%:%
%:%2775=1246%:%
%:%2776=1246%:%
%:%2777=1247%:%
%:%2778=1248%:%
%:%2779=1249%:%
%:%2780=1249%:%
%:%2781=1250%:%
%:%2782=1250%:%
%:%2783=1251%:%
%:%2793=1254%:%
%:%2795=1255%:%
%:%2796=1255%:%
%:%2797=1256%:%
%:%2800=1257%:%
%:%2804=1257%:%
%:%2805=1257%:%
%:%2806=1258%:%
%:%2807=1259%:%
%:%2808=1260%:%
%:%2809=1261%:%
%:%2810=1261%:%
%:%2819=1264%:%
%:%2821=1265%:%
%:%2822=1265%:%
%:%2823=1266%:%
%:%2826=1267%:%
%:%2830=1267%:%
%:%2831=1267%:%
%:%2832=1268%:%
%:%2833=1268%:%
%:%2838=1268%:%
%:%2841=1269%:%
%:%2842=1270%:%
%:%2843=1271%:%
%:%2844=1272%:%
%:%2845=1272%:%
%:%2846=1273%:%
%:%2847=1274%:%
%:%2848=1275%:%
%:%2855=1276%:%
%:%2856=1276%:%
%:%2857=1277%:%
%:%2858=1277%:%
%:%2859=1278%:%
%:%2860=1278%:%
%:%2861=1279%:%
%:%2862=1280%:%
%:%2863=1281%:%
%:%2864=1282%:%
%:%2865=1282%:%
%:%2866=1283%:%
%:%2867=1283%:%
%:%2868=1283%:%
%:%2869=1284%:%
%:%2870=1284%:%
%:%2871=1285%:%
%:%2872=1286%:%
%:%2873=1287%:%
%:%2874=1288%:%
%:%2875=1288%:%
%:%2876=1289%:%
%:%2877=1289%:%
%:%2878=1289%:%
%:%2879=1290%:%
%:%2880=1290%:%
%:%2881=1291%:%
%:%2896=1293%:%
%:%2906=1295%:%
%:%2907=1295%:%
%:%2908=1296%:%
%:%2909=1297%:%
%:%2910=1298%:%
%:%2911=1299%:%
%:%2918=1300%:%
%:%2919=1300%:%
%:%2920=1301%:%
%:%2921=1301%:%
%:%2922=1302%:%
%:%2923=1302%:%
%:%2924=1302%:%
%:%2925=1303%:%
%:%2926=1303%:%
%:%2927=1304%:%
%:%2928=1304%:%
%:%2929=1304%:%
%:%2930=1305%:%
%:%2931=1305%:%
%:%2932=1306%:%
%:%2933=1306%:%
%:%2934=1306%:%
%:%2935=1307%:%
%:%2936=1307%:%
%:%2937=1308%:%
%:%2938=1308%:%
%:%2939=1309%:%
%:%2940=1309%:%
%:%2941=1309%:%
%:%2942=1310%:%
%:%2943=1310%:%
%:%2944=1311%:%
%:%2945=1311%:%
%:%2946=1311%:%
%:%2947=1312%:%
%:%2948=1312%:%
%:%2949=1313%:%
%:%2950=1313%:%
%:%2951=1314%:%
%:%2952=1314%:%
%:%2953=1315%:%
%:%2954=1315%:%
%:%2955=1316%:%
%:%2956=1316%:%
%:%2957=1316%:%
%:%2958=1317%:%
%:%2959=1317%:%
%:%2960=1318%:%
%:%2961=1318%:%
%:%2962=1318%:%
%:%2963=1319%:%
%:%2964=1319%:%
%:%2965=1320%:%
%:%2966=1320%:%
%:%2967=1320%:%
%:%2968=1321%:%
%:%2969=1321%:%
%:%2970=1322%:%
%:%2971=1322%:%
%:%2972=1323%:%
%:%2973=1323%:%
%:%2974=1323%:%
%:%2975=1324%:%
%:%2976=1324%:%
%:%2977=1325%:%
%:%2978=1325%:%
%:%2979=1325%:%
%:%2980=1326%:%
%:%2981=1326%:%
%:%2982=1327%:%
%:%2983=1327%:%
%:%2984=1328%:%
%:%2990=1328%:%
%:%2993=1329%:%
%:%2994=1330%:%
%:%2995=1331%:%
%:%2996=1331%:%
%:%2997=1332%:%
%:%2998=1333%:%
%:%2999=1334%:%
%:%3002=1335%:%
%:%3006=1335%:%
%:%3007=1335%:%
%:%3008=1336%:%
%:%3009=1336%:%
%:%3010=1337%:%
%:%3011=1337%:%
%:%3012=1338%:%
%:%3013=1338%:%
%:%3014=1339%:%
%:%3015=1339%:%
%:%3016=1340%:%
%:%3017=1340%:%
%:%3018=1341%:%
%:%3019=1341%:%
%:%3020=1342%:%
%:%3021=1342%:%
%:%3022=1342%:%
%:%3023=1343%:%
%:%3024=1343%:%
%:%3025=1344%:%
%:%3026=1344%:%
%:%3027=1345%:%
%:%3028=1345%:%
%:%3029=1345%:%
%:%3030=1346%:%
%:%3031=1346%:%
%:%3032=1347%:%
%:%3033=1347%:%
%:%3034=1348%:%
%:%3035=1348%:%
%:%3036=1349%:%
%:%3037=1349%:%
%:%3038=1350%:%
%:%3039=1350%:%
%:%3040=1351%:%
%:%3041=1351%:%
%:%3042=1352%:%
%:%3043=1352%:%
%:%3044=1353%:%
%:%3045=1353%:%
%:%3046=1354%:%
%:%3047=1354%:%
%:%3048=1355%:%
%:%3049=1355%:%
%:%3050=1355%:%
%:%3051=1356%:%
%:%3052=1356%:%
%:%3053=1357%:%
%:%3054=1357%:%
%:%3055=1358%:%
%:%3056=1358%:%
%:%3057=1358%:%
%:%3058=1359%:%
%:%3059=1359%:%
%:%3060=1360%:%
%:%3061=1360%:%
%:%3062=1361%:%
%:%3063=1361%:%
%:%3064=1361%:%
%:%3065=1362%:%
%:%3066=1362%:%
%:%3067=1363%:%
%:%3068=1363%:%
%:%3069=1364%:%
%:%3070=1364%:%
%:%3071=1365%:%
%:%3072=1365%:%
%:%3073=1366%:%
%:%3074=1366%:%
%:%3075=1367%:%
%:%3076=1367%:%
%:%3077=1368%:%
%:%3078=1368%:%
%:%3079=1369%:%
%:%3080=1369%:%
%:%3081=1369%:%
%:%3082=1370%:%
%:%3083=1370%:%
%:%3084=1371%:%
%:%3085=1371%:%
%:%3086=1372%:%
%:%3087=1372%:%
%:%3088=1372%:%
%:%3089=1373%:%
%:%3090=1373%:%
%:%3091=1374%:%
%:%3092=1374%:%
%:%3093=1375%:%
%:%3094=1375%:%
%:%3095=1376%:%
%:%3101=1376%:%
%:%3104=1377%:%
%:%3105=1378%:%
%:%3106=1379%:%
%:%3107=1379%:%
%:%3108=1380%:%
%:%3109=1381%:%
%:%3110=1382%:%
%:%3113=1383%:%
%:%3117=1383%:%
%:%3118=1383%:%
%:%3119=1384%:%
%:%3120=1384%:%
%:%3121=1385%:%
%:%3122=1385%:%
%:%3123=1386%:%
%:%3124=1386%:%
%:%3125=1387%:%
%:%3126=1387%:%
%:%3127=1388%:%
%:%3128=1388%:%
%:%3129=1389%:%
%:%3130=1389%:%
%:%3131=1390%:%
%:%3132=1390%:%
%:%3133=1390%:%
%:%3134=1391%:%
%:%3135=1391%:%
%:%3136=1392%:%
%:%3137=1392%:%
%:%3138=1393%:%
%:%3139=1393%:%
%:%3140=1393%:%
%:%3141=1394%:%
%:%3142=1394%:%
%:%3143=1395%:%
%:%3144=1395%:%
%:%3145=1396%:%
%:%3146=1396%:%
%:%3147=1397%:%
%:%3148=1397%:%
%:%3149=1398%:%
%:%3150=1398%:%
%:%3151=1399%:%
%:%3152=1399%:%
%:%3153=1400%:%
%:%3154=1400%:%
%:%3155=1401%:%
%:%3156=1401%:%
%:%3157=1402%:%
%:%3158=1402%:%
%:%3159=1403%:%
%:%3160=1403%:%
%:%3161=1403%:%
%:%3162=1404%:%
%:%3163=1404%:%
%:%3164=1405%:%
%:%3165=1405%:%
%:%3166=1406%:%
%:%3167=1406%:%
%:%3168=1406%:%
%:%3169=1407%:%
%:%3170=1407%:%
%:%3171=1408%:%
%:%3172=1408%:%
%:%3173=1409%:%
%:%3174=1409%:%
%:%3175=1409%:%
%:%3176=1410%:%
%:%3177=1410%:%
%:%3178=1411%:%
%:%3179=1411%:%
%:%3180=1412%:%
%:%3181=1412%:%
%:%3182=1413%:%
%:%3183=1413%:%
%:%3184=1414%:%
%:%3185=1414%:%
%:%3186=1415%:%
%:%3187=1415%:%
%:%3188=1416%:%
%:%3189=1416%:%
%:%3190=1417%:%
%:%3191=1417%:%
%:%3192=1417%:%
%:%3193=1418%:%
%:%3194=1418%:%
%:%3195=1419%:%
%:%3196=1419%:%
%:%3197=1420%:%
%:%3198=1420%:%
%:%3199=1420%:%
%:%3200=1421%:%
%:%3201=1421%:%
%:%3202=1422%:%
%:%3203=1422%:%
%:%3204=1423%:%
%:%3205=1423%:%
%:%3206=1424%:%
%:%3212=1424%:%
%:%3215=1425%:%
%:%3216=1426%:%
%:%3217=1427%:%
%:%3218=1427%:%
%:%3219=1428%:%
%:%3220=1429%:%
%:%3221=1430%:%
%:%3224=1431%:%
%:%3228=1431%:%
%:%3229=1431%:%
%:%3230=1432%:%
%:%3231=1432%:%
%:%3236=1432%:%
%:%3239=1433%:%
%:%3240=1434%:%
%:%3241=1435%:%
%:%3242=1435%:%
%:%3243=1436%:%
%:%3244=1437%:%
%:%3245=1438%:%
%:%3246=1439%:%
%:%3247=1440%:%
%:%3250=1441%:%
%:%3254=1441%:%
%:%3255=1441%:%
%:%3256=1442%:%
%:%3257=1442%:%
%:%3258=1443%:%
%:%3259=1443%:%
%:%3260=1444%:%
%:%3261=1444%:%
%:%3262=1445%:%
%:%3263=1445%:%
%:%3264=1446%:%
%:%3265=1446%:%
%:%3266=1447%:%
%:%3267=1447%:%
%:%3268=1448%:%
%:%3269=1448%:%
%:%3270=1449%:%
%:%3271=1449%:%
%:%3272=1450%:%
%:%3273=1450%:%
%:%3274=1451%:%
%:%3275=1451%:%
%:%3276=1452%:%
%:%3277=1452%:%
%:%3278=1453%:%
%:%3279=1453%:%
%:%3280=1454%:%
%:%3281=1454%:%
%:%3282=1454%:%
%:%3283=1455%:%
%:%3284=1455%:%
%:%3285=1456%:%
%:%3286=1456%:%
%:%3287=1456%:%
%:%3288=1457%:%
%:%3289=1457%:%
%:%3290=1458%:%
%:%3291=1459%:%
%:%3292=1460%:%
%:%3293=1460%:%
%:%3294=1461%:%
%:%3295=1461%:%
%:%3296=1461%:%
%:%3297=1462%:%
%:%3298=1462%:%
%:%3299=1463%:%
%:%3300=1463%:%
%:%3301=1464%:%
%:%3302=1464%:%
%:%3303=1465%:%
%:%3304=1465%:%
%:%3305=1466%:%
%:%3306=1466%:%
%:%3307=1467%:%
%:%3308=1467%:%
%:%3309=1468%:%
%:%3310=1468%:%
%:%3311=1469%:%
%:%3312=1469%:%
%:%3313=1469%:%
%:%3314=1470%:%
%:%3315=1470%:%
%:%3316=1471%:%
%:%3317=1471%:%
%:%3318=1471%:%
%:%3319=1472%:%
%:%3320=1472%:%
%:%3321=1473%:%
%:%3322=1473%:%
%:%3323=1474%:%
%:%3324=1474%:%
%:%3325=1474%:%
%:%3326=1475%:%
%:%3327=1475%:%
%:%3328=1476%:%
%:%3329=1476%:%
%:%3330=1477%:%
%:%3331=1477%:%
%:%3332=1478%:%
%:%3333=1478%:%
%:%3334=1479%:%
%:%3335=1479%:%
%:%3336=1480%:%
%:%3337=1480%:%
%:%3338=1481%:%
%:%3339=1482%:%
%:%3340=1483%:%
%:%3341=1484%:%
%:%3342=1484%:%
%:%3343=1485%:%
%:%3344=1485%:%
%:%3345=1485%:%
%:%3346=1486%:%
%:%3347=1486%:%
%:%3348=1487%:%
%:%3349=1487%:%
%:%3350=1488%:%
%:%3351=1488%:%
%:%3352=1489%:%
%:%3353=1489%:%
%:%3354=1490%:%
%:%3355=1490%:%
%:%3356=1491%:%
%:%3357=1491%:%
%:%3358=1492%:%
%:%3359=1492%:%
%:%3360=1493%:%
%:%3361=1493%:%
%:%3362=1494%:%
%:%3363=1494%:%
%:%3364=1494%:%
%:%3365=1495%:%
%:%3366=1495%:%
%:%3367=1496%:%
%:%3368=1496%:%
%:%3369=1496%:%
%:%3370=1497%:%
%:%3371=1497%:%
%:%3372=1498%:%
%:%3373=1499%:%
%:%3374=1500%:%
%:%3375=1500%:%
%:%3376=1501%:%
%:%3377=1501%:%
%:%3378=1501%:%
%:%3379=1502%:%
%:%3380=1502%:%
%:%3381=1503%:%
%:%3382=1503%:%
%:%3383=1504%:%
%:%3384=1504%:%
%:%3385=1505%:%
%:%3386=1505%:%
%:%3387=1506%:%
%:%3388=1506%:%
%:%3389=1507%:%
%:%3390=1507%:%
%:%3391=1508%:%
%:%3392=1508%:%
%:%3393=1509%:%
%:%3394=1509%:%
%:%3395=1510%:%
%:%3396=1510%:%
%:%3397=1511%:%
%:%3398=1511%:%
%:%3399=1512%:%
%:%3400=1513%:%
%:%3401=1514%:%
%:%3402=1515%:%
%:%3403=1515%:%
%:%3404=1516%:%
%:%3405=1516%:%
%:%3406=1516%:%
%:%3407=1517%:%
%:%3408=1517%:%
%:%3409=1518%:%
%:%3410=1518%:%
%:%3411=1519%:%
%:%3412=1519%:%
%:%3413=1520%:%
%:%3414=1520%:%
%:%3415=1521%:%
%:%3416=1521%:%
%:%3417=1522%:%
%:%3418=1522%:%
%:%3419=1522%:%
%:%3420=1523%:%
%:%3421=1524%:%
%:%3422=1524%:%
%:%3423=1525%:%
%:%3424=1526%:%
%:%3425=1527%:%
%:%3426=1527%:%
%:%3427=1528%:%
%:%3428=1528%:%
%:%3429=1528%:%
%:%3430=1529%:%
%:%3431=1529%:%
%:%3432=1530%:%
%:%3433=1531%:%
%:%3434=1532%:%
%:%3435=1533%:%
%:%3436=1533%:%
%:%3437=1534%:%
%:%3438=1534%:%
%:%3439=1535%:%
%:%3445=1535%:%
%:%3448=1536%:%
%:%3449=1537%:%
%:%3450=1538%:%
%:%3451=1538%:%
%:%3452=1539%:%
%:%3453=1540%:%
%:%3454=1541%:%
%:%3455=1542%:%
%:%3456=1543%:%
%:%3459=1544%:%
%:%3463=1544%:%
%:%3464=1544%:%
%:%3465=1545%:%
%:%3466=1545%:%
%:%3467=1546%:%
%:%3468=1546%:%
%:%3469=1547%:%
%:%3470=1547%:%
%:%3471=1548%:%
%:%3472=1548%:%
%:%3473=1549%:%
%:%3474=1549%:%
%:%3475=1550%:%
%:%3476=1550%:%
%:%3477=1551%:%
%:%3478=1551%:%
%:%3479=1552%:%
%:%3480=1552%:%
%:%3481=1553%:%
%:%3482=1553%:%
%:%3483=1554%:%
%:%3484=1554%:%
%:%3485=1555%:%
%:%3486=1555%:%
%:%3487=1556%:%
%:%3488=1556%:%
%:%3489=1557%:%
%:%3490=1557%:%
%:%3491=1557%:%
%:%3492=1558%:%
%:%3493=1558%:%
%:%3494=1559%:%
%:%3495=1559%:%
%:%3496=1559%:%
%:%3497=1560%:%
%:%3498=1560%:%
%:%3499=1561%:%
%:%3500=1562%:%
%:%3501=1563%:%
%:%3502=1563%:%
%:%3503=1564%:%
%:%3504=1564%:%
%:%3505=1564%:%
%:%3506=1565%:%
%:%3507=1565%:%
%:%3508=1566%:%
%:%3509=1566%:%
%:%3510=1567%:%
%:%3511=1567%:%
%:%3512=1568%:%
%:%3513=1568%:%
%:%3514=1569%:%
%:%3515=1569%:%
%:%3516=1570%:%
%:%3517=1570%:%
%:%3518=1571%:%
%:%3519=1571%:%
%:%3520=1572%:%
%:%3521=1572%:%
%:%3522=1572%:%
%:%3523=1573%:%
%:%3524=1573%:%
%:%3525=1574%:%
%:%3526=1574%:%
%:%3527=1574%:%
%:%3528=1575%:%
%:%3529=1575%:%
%:%3530=1576%:%
%:%3531=1576%:%
%:%3532=1577%:%
%:%3533=1577%:%
%:%3534=1577%:%
%:%3535=1578%:%
%:%3536=1578%:%
%:%3537=1579%:%
%:%3538=1579%:%
%:%3539=1580%:%
%:%3540=1580%:%
%:%3541=1581%:%
%:%3542=1581%:%
%:%3543=1582%:%
%:%3544=1582%:%
%:%3545=1583%:%
%:%3546=1583%:%
%:%3547=1584%:%
%:%3548=1585%:%
%:%3549=1586%:%
%:%3550=1587%:%
%:%3551=1587%:%
%:%3552=1588%:%
%:%3553=1588%:%
%:%3554=1588%:%
%:%3555=1589%:%
%:%3556=1589%:%
%:%3557=1590%:%
%:%3558=1590%:%
%:%3559=1591%:%
%:%3560=1591%:%
%:%3561=1592%:%
%:%3562=1592%:%
%:%3563=1593%:%
%:%3564=1593%:%
%:%3565=1594%:%
%:%3566=1594%:%
%:%3567=1595%:%
%:%3568=1595%:%
%:%3569=1596%:%
%:%3570=1596%:%
%:%3571=1597%:%
%:%3572=1597%:%
%:%3573=1597%:%
%:%3574=1598%:%
%:%3575=1598%:%
%:%3576=1599%:%
%:%3577=1599%:%
%:%3578=1599%:%
%:%3579=1600%:%
%:%3580=1600%:%
%:%3581=1601%:%
%:%3582=1602%:%
%:%3583=1603%:%
%:%3584=1603%:%
%:%3585=1604%:%
%:%3586=1604%:%
%:%3587=1604%:%
%:%3588=1605%:%
%:%3589=1605%:%
%:%3590=1606%:%
%:%3591=1606%:%
%:%3592=1607%:%
%:%3593=1607%:%
%:%3594=1608%:%
%:%3595=1608%:%
%:%3596=1609%:%
%:%3597=1609%:%
%:%3598=1610%:%
%:%3599=1610%:%
%:%3600=1611%:%
%:%3601=1611%:%
%:%3602=1612%:%
%:%3603=1612%:%
%:%3604=1613%:%
%:%3605=1613%:%
%:%3606=1614%:%
%:%3607=1614%:%
%:%3608=1615%:%
%:%3609=1616%:%
%:%3610=1617%:%
%:%3611=1618%:%
%:%3612=1618%:%
%:%3613=1619%:%
%:%3614=1619%:%
%:%3615=1619%:%
%:%3616=1620%:%
%:%3617=1620%:%
%:%3618=1621%:%
%:%3619=1621%:%
%:%3620=1622%:%
%:%3621=1622%:%
%:%3622=1623%:%
%:%3623=1623%:%
%:%3624=1624%:%
%:%3625=1624%:%
%:%3626=1625%:%
%:%3627=1625%:%
%:%3628=1625%:%
%:%3629=1626%:%
%:%3630=1627%:%
%:%3631=1627%:%
%:%3632=1628%:%
%:%3633=1629%:%
%:%3634=1630%:%
%:%3635=1630%:%
%:%3636=1631%:%
%:%3637=1631%:%
%:%3638=1631%:%
%:%3639=1632%:%
%:%3640=1632%:%
%:%3641=1632%:%
%:%3642=1633%:%
%:%3643=1633%:%
%:%3644=1633%:%
%:%3645=1634%:%
%:%3646=1634%:%
%:%3647=1635%:%
%:%3648=1636%:%
%:%3649=1637%:%
%:%3650=1638%:%
%:%3651=1638%:%
%:%3652=1639%:%
%:%3653=1639%:%
%:%3654=1640%:%
%:%3660=1640%:%
%:%3663=1641%:%
%:%3664=1642%:%
%:%3665=1642%:%
%:%3666=1643%:%
%:%3667=1644%:%
%:%3668=1645%:%
%:%3669=1646%:%
%:%3670=1647%:%
%:%3671=1648%:%
%:%3672=1649%:%
%:%3675=1650%:%
%:%3679=1650%:%
%:%3680=1650%:%
%:%3681=1651%:%
%:%3682=1651%:%
%:%3687=1651%:%
%:%3690=1652%:%
%:%3691=1653%:%
%:%3692=1653%:%
%:%3693=1654%:%
%:%3694=1655%:%
%:%3695=1656%:%
%:%3696=1657%:%
%:%3697=1658%:%
%:%3698=1659%:%
%:%3699=1660%:%
%:%3702=1661%:%
%:%3706=1661%:%
%:%3707=1661%:%
%:%3708=1662%:%
%:%3709=1662%:%
%:%3714=1662%:%
%:%3717=1663%:%
%:%3718=1664%:%
%:%3719=1665%:%
%:%3720=1665%:%
%:%3721=1666%:%
%:%3722=1667%:%
%:%3723=1668%:%
%:%3724=1669%:%
%:%3725=1670%:%
%:%3726=1671%:%
%:%3727=1672%:%
%:%3734=1673%:%
%:%3735=1673%:%
%:%3736=1674%:%
%:%3737=1674%:%
%:%3738=1675%:%
%:%3739=1675%:%
%:%3740=1675%:%
%:%3741=1676%:%
%:%3742=1676%:%
%:%3743=1677%:%
%:%3744=1677%:%
%:%3745=1678%:%
%:%3746=1678%:%
%:%3747=1678%:%
%:%3748=1679%:%
%:%3749=1679%:%
%:%3750=1680%:%
%:%3751=1680%:%
%:%3752=1681%:%
%:%3753=1681%:%
%:%3754=1682%:%
%:%3755=1682%:%
%:%3756=1683%:%
%:%3757=1683%:%
%:%3758=1684%:%
%:%3759=1684%:%
%:%3760=1684%:%
%:%3761=1685%:%
%:%3762=1685%:%
%:%3763=1686%:%
%:%3764=1686%:%
%:%3765=1687%:%
%:%3766=1687%:%
%:%3767=1687%:%
%:%3768=1688%:%
%:%3769=1688%:%
%:%3770=1689%:%
%:%3771=1689%:%
%:%3772=1690%:%
%:%3778=1690%:%
%:%3781=1691%:%
%:%3782=1692%:%
%:%3783=1692%:%
%:%3784=1693%:%
%:%3785=1694%:%
%:%3786=1695%:%
%:%3787=1696%:%
%:%3788=1697%:%
%:%3789=1698%:%
%:%3790=1699%:%
%:%3797=1700%:%
%:%3798=1700%:%
%:%3799=1701%:%
%:%3800=1701%:%
%:%3801=1702%:%
%:%3802=1702%:%
%:%3803=1702%:%
%:%3804=1703%:%
%:%3805=1703%:%
%:%3806=1704%:%
%:%3807=1704%:%
%:%3808=1705%:%
%:%3809=1705%:%
%:%3810=1705%:%
%:%3811=1706%:%
%:%3812=1706%:%
%:%3813=1707%:%
%:%3814=1707%:%
%:%3815=1708%:%
%:%3816=1708%:%
%:%3817=1709%:%
%:%3818=1709%:%
%:%3819=1710%:%
%:%3820=1710%:%
%:%3821=1711%:%
%:%3822=1711%:%
%:%3823=1711%:%
%:%3824=1712%:%
%:%3825=1712%:%
%:%3826=1713%:%
%:%3827=1713%:%
%:%3828=1714%:%
%:%3829=1714%:%
%:%3830=1714%:%
%:%3831=1715%:%
%:%3832=1715%:%
%:%3833=1716%:%
%:%3834=1716%:%
%:%3835=1717%:%
%:%3841=1717%:%
%:%3844=1718%:%
%:%3845=1719%:%
%:%3846=1720%:%
%:%3847=1720%:%
%:%3848=1721%:%
%:%3849=1722%:%
%:%3850=1723%:%
%:%3851=1724%:%
%:%3852=1725%:%
%:%3853=1726%:%
%:%3854=1727%:%
%:%3861=1728%:%
%:%3862=1728%:%
%:%3863=1729%:%
%:%3864=1729%:%
%:%3865=1730%:%
%:%3866=1730%:%
%:%3867=1731%:%
%:%3868=1731%:%
%:%3869=1732%:%
%:%3870=1732%:%
%:%3871=1733%:%
%:%3872=1733%:%
%:%3873=1734%:%
%:%3874=1734%:%
%:%3875=1734%:%
%:%3876=1735%:%
%:%3877=1735%:%
%:%3878=1736%:%
%:%3879=1736%:%
%:%3880=1737%:%
%:%3881=1737%:%
%:%3882=1738%:%
%:%3883=1738%:%
%:%3884=1738%:%
%:%3885=1739%:%
%:%3886=1739%:%
%:%3887=1740%:%
%:%3888=1740%:%
%:%3889=1740%:%
%:%3890=1741%:%
%:%3891=1741%:%
%:%3892=1742%:%
%:%3893=1743%:%
%:%3894=1743%:%
%:%3895=1744%:%
%:%3901=1744%:%
%:%3904=1745%:%
%:%3905=1746%:%
%:%3906=1747%:%
%:%3907=1747%:%
%:%3908=1748%:%
%:%3909=1749%:%
%:%3910=1750%:%
%:%3911=1751%:%
%:%3912=1752%:%
%:%3913=1753%:%
%:%3914=1754%:%
%:%3921=1755%:%
%:%3922=1755%:%
%:%3923=1756%:%
%:%3924=1756%:%
%:%3925=1757%:%
%:%3926=1757%:%
%:%3927=1758%:%
%:%3928=1758%:%
%:%3929=1759%:%
%:%3930=1759%:%
%:%3931=1760%:%
%:%3932=1760%:%
%:%3933=1761%:%
%:%3934=1761%:%
%:%3935=1761%:%
%:%3936=1762%:%
%:%3937=1762%:%
%:%3938=1763%:%
%:%3939=1763%:%
%:%3940=1764%:%
%:%3941=1764%:%
%:%3942=1765%:%
%:%3943=1765%:%
%:%3944=1765%:%
%:%3945=1766%:%
%:%3946=1766%:%
%:%3947=1767%:%
%:%3948=1767%:%
%:%3949=1767%:%
%:%3950=1768%:%
%:%3951=1768%:%
%:%3952=1769%:%
%:%3953=1770%:%
%:%3954=1770%:%
%:%3955=1771%:%
%:%3961=1771%:%
%:%3964=1772%:%
%:%3965=1773%:%
%:%3966=1774%:%
%:%3967=1775%:%
%:%3968=1775%:%
%:%3969=1776%:%
%:%3970=1777%:%
%:%3971=1778%:%
%:%3972=1779%:%
%:%3973=1780%:%
%:%3980=1781%:%
%:%3981=1781%:%
%:%3982=1782%:%
%:%3983=1782%:%
%:%3984=1783%:%
%:%3985=1783%:%
%:%3986=1783%:%
%:%3987=1784%:%
%:%3988=1784%:%
%:%3989=1785%:%
%:%3990=1785%:%
%:%3991=1786%:%
%:%3992=1787%:%
%:%3993=1787%:%
%:%3994=1788%:%
%:%3995=1788%:%
%:%3996=1789%:%
%:%3997=1789%:%
%:%3998=1790%:%
%:%3999=1790%:%
%:%4000=1791%:%
%:%4001=1791%:%
%:%4002=1792%:%
%:%4003=1792%:%
%:%4004=1792%:%
%:%4005=1793%:%
%:%4006=1793%:%
%:%4007=1794%:%
%:%4008=1794%:%
%:%4009=1794%:%
%:%4010=1795%:%
%:%4011=1795%:%
%:%4012=1796%:%
%:%4013=1796%:%
%:%4014=1796%:%
%:%4015=1797%:%
%:%4016=1797%:%
%:%4017=1798%:%
%:%4018=1799%:%
%:%4019=1799%:%
%:%4020=1800%:%
%:%4021=1800%:%
%:%4022=1800%:%
%:%4023=1801%:%
%:%4024=1801%:%
%:%4025=1802%:%
%:%4026=1803%:%
%:%4027=1803%:%
%:%4028=1804%:%
%:%4029=1804%:%
%:%4030=1805%:%
%:%4031=1805%:%
%:%4032=1806%:%
%:%4033=1806%:%
%:%4034=1807%:%
%:%4035=1807%:%
%:%4036=1808%:%
%:%4037=1808%:%
%:%4038=1809%:%
%:%4039=1809%:%
%:%4040=1810%:%
%:%4041=1810%:%
%:%4042=1810%:%
%:%4043=1811%:%
%:%4044=1811%:%
%:%4045=1812%:%
%:%4046=1812%:%
%:%4047=1812%:%
%:%4048=1813%:%
%:%4049=1813%:%
%:%4050=1814%:%
%:%4051=1814%:%
%:%4052=1815%:%
%:%4053=1815%:%
%:%4054=1816%:%
%:%4055=1816%:%
%:%4056=1817%:%
%:%4057=1817%:%
%:%4058=1817%:%
%:%4059=1818%:%
%:%4060=1818%:%
%:%4061=1819%:%
%:%4062=1820%:%
%:%4063=1821%:%
%:%4064=1822%:%
%:%4065=1822%:%
%:%4066=1823%:%
%:%4067=1823%:%
%:%4068=1823%:%
%:%4069=1824%:%
%:%4070=1824%:%
%:%4071=1825%:%
%:%4072=1826%:%
%:%4073=1827%:%
%:%4074=1827%:%
%:%4075=1828%:%
%:%4076=1828%:%
%:%4077=1829%:%
%:%4078=1829%:%
%:%4079=1829%:%
%:%4080=1830%:%
%:%4081=1830%:%
%:%4082=1831%:%
%:%4083=1832%:%
%:%4084=1833%:%
%:%4085=1833%:%
%:%4086=1834%:%
%:%4087=1834%:%
%:%4088=1834%:%
%:%4089=1835%:%
%:%4090=1835%:%
%:%4091=1836%:%
%:%4092=1836%:%
%:%4093=1837%:%
%:%4094=1837%:%
%:%4095=1837%:%
%:%4096=1838%:%
%:%4097=1838%:%
%:%4098=1839%:%
%:%4099=1840%:%
%:%4100=1841%:%
%:%4101=1841%:%
%:%4102=1842%:%
%:%4103=1842%:%
%:%4104=1843%:%
%:%4105=1843%:%
%:%4106=1844%:%
%:%4107=1844%:%
%:%4108=1844%:%
%:%4109=1845%:%
%:%4110=1845%:%
%:%4111=1846%:%
%:%4112=1846%:%
%:%4113=1847%:%
%:%4114=1847%:%
%:%4115=1847%:%
%:%4116=1848%:%
%:%4117=1848%:%
%:%4118=1849%:%
%:%4119=1849%:%
%:%4120=1850%:%
%:%4121=1850%:%
%:%4122=1850%:%
%:%4123=1851%:%
%:%4124=1851%:%
%:%4125=1852%:%
%:%4126=1852%:%
%:%4127=1853%:%
%:%4128=1853%:%
%:%4129=1854%:%
%:%4130=1854%:%
%:%4131=1855%:%
%:%4132=1855%:%
%:%4133=1855%:%
%:%4134=1856%:%
%:%4135=1856%:%
%:%4136=1857%:%
%:%4137=1857%:%
%:%4138=1857%:%
%:%4139=1858%:%
%:%4140=1859%:%
%:%4141=1859%:%
%:%4142=1860%:%
%:%4143=1860%:%
%:%4144=1861%:%
%:%4145=1861%:%
%:%4146=1862%:%
%:%4147=1862%:%
%:%4148=1863%:%
%:%4149=1863%:%
%:%4150=1863%:%
%:%4151=1864%:%
%:%4152=1864%:%
%:%4153=1865%:%
%:%4154=1865%:%
%:%4155=1866%:%
%:%4156=1866%:%
%:%4157=1866%:%
%:%4158=1867%:%
%:%4159=1867%:%
%:%4160=1868%:%
%:%4161=1868%:%
%:%4162=1868%:%
%:%4163=1869%:%
%:%4164=1869%:%
%:%4165=1870%:%
%:%4166=1870%:%
%:%4167=1871%:%
%:%4173=1871%:%
%:%4176=1872%:%
%:%4177=1873%:%
%:%4178=1873%:%
%:%4179=1874%:%
%:%4180=1875%:%
%:%4181=1876%:%
%:%4182=1877%:%
%:%4183=1878%:%
%:%4190=1879%:%
%:%4191=1879%:%
%:%4192=1880%:%
%:%4193=1880%:%
%:%4194=1881%:%
%:%4195=1881%:%
%:%4196=1881%:%
%:%4197=1882%:%
%:%4198=1882%:%
%:%4199=1883%:%
%:%4200=1883%:%
%:%4201=1884%:%
%:%4202=1885%:%
%:%4203=1885%:%
%:%4204=1886%:%
%:%4205=1886%:%
%:%4206=1887%:%
%:%4207=1887%:%
%:%4208=1888%:%
%:%4209=1888%:%
%:%4210=1889%:%
%:%4211=1889%:%
%:%4212=1890%:%
%:%4213=1890%:%
%:%4214=1890%:%
%:%4215=1891%:%
%:%4216=1891%:%
%:%4217=1892%:%
%:%4218=1892%:%
%:%4219=1892%:%
%:%4220=1893%:%
%:%4221=1893%:%
%:%4222=1894%:%
%:%4223=1894%:%
%:%4224=1894%:%
%:%4225=1895%:%
%:%4226=1895%:%
%:%4227=1896%:%
%:%4228=1897%:%
%:%4229=1897%:%
%:%4230=1898%:%
%:%4231=1898%:%
%:%4232=1898%:%
%:%4233=1899%:%
%:%4234=1899%:%
%:%4235=1900%:%
%:%4236=1901%:%
%:%4237=1901%:%
%:%4238=1902%:%
%:%4239=1902%:%
%:%4240=1903%:%
%:%4241=1903%:%
%:%4242=1904%:%
%:%4243=1904%:%
%:%4244=1905%:%
%:%4245=1905%:%
%:%4246=1906%:%
%:%4247=1906%:%
%:%4248=1907%:%
%:%4249=1907%:%
%:%4250=1908%:%
%:%4251=1908%:%
%:%4252=1908%:%
%:%4253=1909%:%
%:%4254=1909%:%
%:%4255=1910%:%
%:%4256=1910%:%
%:%4257=1910%:%
%:%4258=1911%:%
%:%4259=1911%:%
%:%4260=1912%:%
%:%4261=1912%:%
%:%4262=1913%:%
%:%4263=1913%:%
%:%4264=1914%:%
%:%4265=1914%:%
%:%4266=1915%:%
%:%4267=1915%:%
%:%4268=1915%:%
%:%4269=1916%:%
%:%4270=1916%:%
%:%4271=1917%:%
%:%4272=1918%:%
%:%4273=1919%:%
%:%4274=1920%:%
%:%4275=1920%:%
%:%4276=1921%:%
%:%4277=1921%:%
%:%4278=1921%:%
%:%4279=1922%:%
%:%4280=1922%:%
%:%4281=1923%:%
%:%4282=1924%:%
%:%4283=1925%:%
%:%4284=1925%:%
%:%4285=1926%:%
%:%4286=1926%:%
%:%4287=1927%:%
%:%4288=1927%:%
%:%4289=1927%:%
%:%4290=1928%:%
%:%4291=1928%:%
%:%4292=1929%:%
%:%4293=1930%:%
%:%4294=1931%:%
%:%4295=1931%:%
%:%4296=1932%:%
%:%4297=1932%:%
%:%4298=1932%:%
%:%4299=1933%:%
%:%4300=1933%:%
%:%4301=1934%:%
%:%4302=1934%:%
%:%4303=1935%:%
%:%4304=1935%:%
%:%4305=1935%:%
%:%4306=1936%:%
%:%4307=1936%:%
%:%4308=1937%:%
%:%4309=1938%:%
%:%4310=1939%:%
%:%4311=1939%:%
%:%4312=1940%:%
%:%4313=1940%:%
%:%4314=1941%:%
%:%4315=1941%:%
%:%4316=1942%:%
%:%4317=1942%:%
%:%4318=1942%:%
%:%4319=1943%:%
%:%4320=1943%:%
%:%4321=1944%:%
%:%4322=1944%:%
%:%4323=1945%:%
%:%4324=1945%:%
%:%4325=1945%:%
%:%4326=1946%:%
%:%4327=1946%:%
%:%4328=1947%:%
%:%4329=1947%:%
%:%4330=1948%:%
%:%4331=1948%:%
%:%4332=1948%:%
%:%4333=1949%:%
%:%4334=1949%:%
%:%4335=1950%:%
%:%4336=1950%:%
%:%4337=1951%:%
%:%4338=1951%:%
%:%4339=1952%:%
%:%4340=1952%:%
%:%4341=1953%:%
%:%4342=1953%:%
%:%4343=1953%:%
%:%4344=1954%:%
%:%4345=1954%:%
%:%4346=1955%:%
%:%4347=1955%:%
%:%4348=1955%:%
%:%4349=1956%:%
%:%4350=1957%:%
%:%4351=1957%:%
%:%4352=1958%:%
%:%4353=1958%:%
%:%4354=1959%:%
%:%4355=1959%:%
%:%4356=1960%:%
%:%4357=1960%:%
%:%4358=1961%:%
%:%4359=1961%:%
%:%4360=1961%:%
%:%4361=1962%:%
%:%4362=1962%:%
%:%4363=1963%:%
%:%4364=1963%:%
%:%4365=1964%:%
%:%4366=1964%:%
%:%4367=1964%:%
%:%4368=1965%:%
%:%4369=1965%:%
%:%4370=1966%:%
%:%4371=1966%:%
%:%4372=1966%:%
%:%4373=1967%:%
%:%4374=1967%:%
%:%4375=1968%:%
%:%4376=1968%:%
%:%4377=1969%:%
%:%4383=1969%:%
%:%4386=1970%:%
%:%4387=1971%:%
%:%4388=1971%:%
%:%4390=1972%:%
%:%4391=1973%:%
%:%4392=1974%:%
%:%4393=1975%:%
%:%4394=1976%:%
%:%4395=1977%:%
%:%4397=1978%:%
%:%4398=1978%:%
%:%4399=1979%:%
%:%4400=1980%:%
%:%4401=1981%:%
%:%4402=1982%:%
%:%4409=1983%:%
%:%4410=1983%:%
%:%4411=1984%:%
%:%4412=1984%:%
%:%4413=1985%:%
%:%4414=1985%:%
%:%4415=1986%:%
%:%4416=1987%:%
%:%4417=1987%:%
%:%4418=1988%:%
%:%4419=1988%:%
%:%4420=1989%:%
%:%4421=1989%:%
%:%4422=1989%:%
%:%4423=1990%:%
%:%4424=1990%:%
%:%4425=1991%:%
%:%4426=1992%:%
%:%4427=1992%:%
%:%4428=1993%:%
%:%4429=1993%:%
%:%4430=1993%:%
%:%4432=1995%:%
%:%4433=1996%:%
%:%4434=1996%:%
%:%4435=1997%:%
%:%4436=1997%:%
%:%4437=1998%:%
%:%4438=1999%:%
%:%4439=1999%:%
%:%4440=2000%:%
%:%4441=2001%:%
%:%4442=2002%:%
%:%4443=2003%:%
%:%4444=2003%:%
%:%4445=2004%:%
%:%4446=2004%:%
%:%4447=2004%:%
%:%4450=2007%:%
%:%4451=2008%:%
%:%4452=2008%:%
%:%4453=2009%:%
%:%4454=2010%:%
%:%4455=2011%:%
%:%4456=2012%:%
%:%4457=2012%:%
%:%4458=2013%:%
%:%4459=2013%:%
%:%4460=2013%:%
%:%4461=2014%:%
%:%4462=2014%:%
%:%4463=2015%:%
%:%4464=2016%:%
%:%4465=2017%:%
%:%4466=2018%:%
%:%4467=2019%:%
%:%4468=2020%:%
%:%4469=2021%:%
%:%4470=2021%:%
%:%4471=2022%:%
%:%4472=2022%:%
%:%4473=2023%:%
%:%4474=2023%:%
%:%4475=2023%:%
%:%4478=2026%:%
%:%4479=2027%:%
%:%4480=2027%:%
%:%4481=2028%:%
%:%4482=2029%:%
%:%4483=2029%:%
%:%4484=2030%:%
%:%4485=2030%:%
%:%4486=2030%:%
%:%4487=2031%:%
%:%4488=2031%:%
%:%4489=2032%:%
%:%4490=2032%:%
%:%4491=2033%:%
%:%4492=2033%:%
%:%4493=2034%:%
%:%4494=2035%:%
%:%4495=2036%:%
%:%4496=2037%:%
%:%4497=2038%:%
%:%4498=2038%:%
%:%4499=2039%:%
%:%4500=2039%:%
%:%4501=2039%:%
%:%4502=2040%:%
%:%4503=2040%:%
%:%4504=2041%:%
%:%4505=2041%:%
%:%4506=2042%:%
%:%4507=2042%:%
%:%4508=2043%:%
%:%4509=2043%:%
%:%4510=2043%:%
%:%4511=2044%:%
%:%4512=2044%:%
%:%4513=2045%:%
%:%4514=2046%:%
%:%4515=2046%:%
%:%4516=2047%:%
%:%4522=2047%:%
%:%4525=2048%:%
%:%4526=2049%:%
%:%4527=2050%:%
%:%4528=2050%:%
%:%4529=2051%:%
%:%4530=2052%:%
%:%4531=2053%:%
%:%4532=2054%:%
%:%4539=2055%:%
%:%4540=2055%:%
%:%4541=2056%:%
%:%4542=2056%:%
%:%4543=2057%:%
%:%4544=2057%:%
%:%4545=2058%:%
%:%4546=2059%:%
%:%4547=2059%:%
%:%4548=2060%:%
%:%4549=2060%:%
%:%4550=2061%:%
%:%4551=2061%:%
%:%4552=2061%:%
%:%4553=2062%:%
%:%4554=2062%:%
%:%4555=2063%:%
%:%4556=2063%:%
%:%4557=2064%:%
%:%4558=2064%:%
%:%4559=2065%:%
%:%4560=2066%:%
%:%4561=2067%:%
%:%4562=2068%:%
%:%4563=2068%:%
%:%4564=2069%:%
%:%4565=2069%:%
%:%4566=2069%:%
%:%4567=2070%:%
%:%4568=2070%:%
%:%4569=2071%:%
%:%4570=2072%:%
%:%4571=2073%:%
%:%4572=2073%:%
%:%4573=2074%:%
%:%4574=2074%:%
%:%4575=2074%:%
%:%4576=2075%:%
%:%4577=2075%:%
%:%4578=2076%:%
%:%4579=2077%:%
%:%4580=2077%:%
%:%4581=2078%:%
%:%4582=2078%:%
%:%4583=2079%:%
%:%4584=2079%:%
%:%4585=2079%:%
%:%4587=2081%:%
%:%4588=2082%:%
%:%4589=2082%:%
%:%4590=2083%:%
%:%4591=2083%:%
%:%4592=2084%:%
%:%4593=2085%:%
%:%4594=2085%:%
%:%4595=2086%:%
%:%4596=2087%:%
%:%4597=2088%:%
%:%4598=2089%:%
%:%4599=2089%:%
%:%4600=2090%:%
%:%4601=2090%:%
%:%4602=2090%:%
%:%4605=2093%:%
%:%4606=2094%:%
%:%4607=2094%:%
%:%4608=2095%:%
%:%4609=2096%:%
%:%4610=2097%:%
%:%4611=2098%:%
%:%4612=2098%:%
%:%4613=2099%:%
%:%4614=2099%:%
%:%4615=2099%:%
%:%4616=2100%:%
%:%4617=2100%:%
%:%4618=2101%:%
%:%4619=2102%:%
%:%4620=2103%:%
%:%4621=2104%:%
%:%4622=2105%:%
%:%4623=2106%:%
%:%4624=2107%:%
%:%4625=2107%:%
%:%4626=2108%:%
%:%4627=2109%:%
%:%4628=2109%:%
%:%4629=2110%:%
%:%4630=2110%:%
%:%4631=2110%:%
%:%4634=2113%:%
%:%4635=2114%:%
%:%4636=2114%:%
%:%4637=2115%:%
%:%4638=2116%:%
%:%4639=2116%:%
%:%4640=2117%:%
%:%4641=2117%:%
%:%4642=2117%:%
%:%4643=2118%:%
%:%4644=2118%:%
%:%4645=2119%:%
%:%4646=2119%:%
%:%4647=2120%:%
%:%4648=2120%:%
%:%4649=2121%:%
%:%4650=2122%:%
%:%4651=2123%:%
%:%4652=2124%:%
%:%4653=2125%:%
%:%4654=2125%:%
%:%4655=2126%:%
%:%4656=2126%:%
%:%4657=2126%:%
%:%4658=2127%:%
%:%4659=2127%:%
%:%4660=2128%:%
%:%4661=2128%:%
%:%4662=2129%:%
%:%4663=2129%:%
%:%4664=2130%:%
%:%4665=2130%:%
%:%4666=2130%:%
%:%4667=2131%:%
%:%4668=2131%:%
%:%4669=2132%:%
%:%4670=2133%:%
%:%4671=2133%:%
%:%4672=2134%:%
%:%4687=2136%:%
%:%4699=2139%:%
%:%4701=2140%:%
%:%4702=2140%:%
%:%4703=2141%:%
%:%4704=2142%:%
%:%4705=2143%:%
%:%4708=2144%:%
%:%4712=2144%:%
%:%4713=2144%:%
%:%4714=2145%:%
%:%4715=2145%:%
%:%4716=2146%:%
%:%4717=2146%:%
%:%4719=2148%:%
%:%4720=2149%:%
%:%4721=2149%:%
%:%4722=2150%:%
%:%4723=2150%:%
%:%4724=2151%:%
%:%4725=2152%:%
%:%4726=2152%:%
%:%4727=2153%:%
%:%4728=2153%:%
%:%4729=2153%:%
%:%4730=2154%:%
%:%4731=2154%:%
%:%4732=2155%:%
%:%4733=2155%:%
%:%4734=2155%:%
%:%4735=2156%:%
%:%4736=2156%:%
%:%4737=2157%:%
%:%4738=2158%:%
%:%4739=2159%:%
%:%4740=2160%:%
%:%4741=2161%:%
%:%4742=2161%:%
%:%4743=2162%:%
%:%4744=2162%:%
%:%4745=2162%:%
%:%4746=2163%:%
%:%4747=2163%:%
%:%4748=2164%:%
%:%4749=2165%:%
%:%4750=2166%:%
%:%4751=2167%:%
%:%4752=2168%:%
%:%4753=2168%:%
%:%4754=2169%:%
%:%4755=2169%:%
%:%4756=2169%:%
%:%4757=2170%:%
%:%4758=2170%:%
%:%4759=2171%:%
%:%4760=2171%:%
%:%4761=2171%:%
%:%4762=2172%:%
%:%4763=2172%:%
%:%4764=2173%:%
%:%4765=2173%:%
%:%4766=2174%:%
%:%4767=2174%:%
%:%4768=2175%:%
%:%4769=2175%:%
%:%4770=2175%:%
%:%4771=2176%:%
%:%4772=2177%:%
%:%4773=2177%:%
%:%4774=2178%:%
%:%4775=2179%:%
%:%4776=2180%:%
%:%4777=2180%:%
%:%4778=2181%:%
%:%4779=2181%:%
%:%4780=2181%:%
%:%4781=2182%:%
%:%4782=2183%:%
%:%4783=2183%:%
%:%4784=2184%:%
%:%4785=2185%:%
%:%4786=2186%:%
%:%4787=2186%:%
%:%4788=2187%:%
%:%4789=2187%:%
%:%4790=2187%:%
%:%4791=2188%:%
%:%4792=2188%:%
%:%4793=2189%:%
%:%4794=2189%:%
%:%4795=2190%:%
%:%4796=2190%:%
%:%4797=2191%:%
%:%4798=2192%:%
%:%4799=2193%:%
%:%4800=2194%:%
%:%4801=2195%:%
%:%4802=2195%:%
%:%4803=2196%:%
%:%4804=2196%:%
%:%4805=2196%:%
%:%4806=2197%:%
%:%4807=2197%:%
%:%4808=2198%:%
%:%4809=2198%:%
%:%4810=2199%:%
%:%4811=2199%:%
%:%4812=2200%:%
%:%4813=2200%:%
%:%4814=2200%:%
%:%4815=2201%:%
%:%4816=2201%:%
%:%4817=2202%:%
%:%4818=2202%:%
%:%4819=2203%:%
%:%4820=2203%:%
%:%4821=2204%:%
%:%4822=2205%:%
%:%4823=2206%:%
%:%4824=2207%:%
%:%4825=2208%:%
%:%4826=2208%:%
%:%4827=2209%:%
%:%4828=2209%:%
%:%4829=2209%:%
%:%4830=2210%:%
%:%4831=2210%:%
%:%4832=2211%:%
%:%4833=2211%:%
%:%4834=2212%:%
%:%4835=2212%:%
%:%4836=2213%:%
%:%4837=2213%:%
%:%4838=2213%:%
%:%4840=2215%:%
%:%4841=2216%:%
%:%4842=2216%:%
%:%4843=2217%:%
%:%4849=2217%:%
%:%4852=2218%:%
%:%4853=2219%:%
%:%4854=2219%:%
%:%4861=2220%:%